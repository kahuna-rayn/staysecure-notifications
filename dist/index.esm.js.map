{"version":3,"file":"index.esm.js","sources":["../node_modules/lucide-react/dist/esm/shared/src/utils.js","../node_modules/lucide-react/dist/esm/defaultAttributes.js","../node_modules/lucide-react/dist/esm/Icon.js","../node_modules/lucide-react/dist/esm/createLucideIcon.js","../node_modules/lucide-react/dist/esm/icons/award.js","../node_modules/lucide-react/dist/esm/icons/bell.js","../node_modules/lucide-react/dist/esm/icons/book-open.js","../node_modules/lucide-react/dist/esm/icons/calendar.js","../node_modules/lucide-react/dist/esm/icons/check.js","../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../node_modules/lucide-react/dist/esm/icons/circle-x.js","../node_modules/lucide-react/dist/esm/icons/clock.js","../node_modules/lucide-react/dist/esm/icons/copy.js","../node_modules/lucide-react/dist/esm/icons/eye.js","../node_modules/lucide-react/dist/esm/icons/filter.js","../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../node_modules/lucide-react/dist/esm/icons/mail.js","../node_modules/lucide-react/dist/esm/icons/plus.js","../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../node_modules/lucide-react/dist/esm/icons/search.js","../node_modules/lucide-react/dist/esm/icons/send.js","../node_modules/lucide-react/dist/esm/icons/settings.js","../node_modules/lucide-react/dist/esm/icons/smartphone.js","../node_modules/lucide-react/dist/esm/icons/square-pen.js","../node_modules/lucide-react/dist/esm/icons/target.js","../node_modules/lucide-react/dist/esm/icons/trash-2.js","../node_modules/lucide-react/dist/esm/icons/user.js","../node_modules/lucide-react/dist/esm/icons/x.js","../src/lib/emailService.ts","../src/components/EmailNotifications.tsx","../src/components/EmailTemplateManager.tsx","../src/components/RecentEmailNotifications.tsx","../src/utils/supabase.ts","../src/hooks/useNotifications.ts","../node_modules/date-fns/toDate.mjs","../node_modules/date-fns/constructFrom.mjs","../node_modules/date-fns/constants.mjs","../node_modules/date-fns/_lib/defaultOptions.mjs","../node_modules/date-fns/startOfWeek.mjs","../node_modules/date-fns/startOfISOWeek.mjs","../node_modules/date-fns/getISOWeekYear.mjs","../node_modules/date-fns/startOfDay.mjs","../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs","../node_modules/date-fns/differenceInCalendarDays.mjs","../node_modules/date-fns/startOfISOWeekYear.mjs","../node_modules/date-fns/compareAsc.mjs","../node_modules/date-fns/constructNow.mjs","../node_modules/date-fns/isDate.mjs","../node_modules/date-fns/isValid.mjs","../node_modules/date-fns/differenceInCalendarMonths.mjs","../node_modules/date-fns/_lib/getRoundingMethod.mjs","../node_modules/date-fns/differenceInMilliseconds.mjs","../node_modules/date-fns/endOfDay.mjs","../node_modules/date-fns/endOfMonth.mjs","../node_modules/date-fns/isLastDayOfMonth.mjs","../node_modules/date-fns/differenceInMonths.mjs","../node_modules/date-fns/differenceInSeconds.mjs","../node_modules/date-fns/startOfYear.mjs","../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs","../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs","../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs","../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs","../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs","../node_modules/date-fns/locale/en-US/_lib/localize.mjs","../node_modules/date-fns/locale/_lib/buildMatchFn.mjs","../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs","../node_modules/date-fns/locale/en-US/_lib/match.mjs","../node_modules/date-fns/locale/en-US.mjs","../node_modules/date-fns/getDayOfYear.mjs","../node_modules/date-fns/getISOWeek.mjs","../node_modules/date-fns/getWeekYear.mjs","../node_modules/date-fns/startOfWeekYear.mjs","../node_modules/date-fns/getWeek.mjs","../node_modules/date-fns/_lib/addLeadingZeros.mjs","../node_modules/date-fns/_lib/format/lightFormatters.mjs","../node_modules/date-fns/_lib/format/formatters.mjs","../node_modules/date-fns/_lib/format/longFormatters.mjs","../node_modules/date-fns/_lib/protectedTokens.mjs","../node_modules/date-fns/format.mjs","../node_modules/date-fns/formatDistance.mjs","../node_modules/date-fns/formatDistanceToNow.mjs","../src/components/NotificationItem.tsx","../src/hooks/useNotificationSettings.ts","../src/components/NotificationSettings.tsx","../src/components/NotificationCenter.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\n\nexport { mergeClasses, toKebabCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props\n    })\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Award = createLucideIcon(\"Award\", [\n  [\n    \"path\",\n    {\n      d: \"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526\",\n      key: \"1yiouv\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"6\", key: \"1vp47v\" }]\n]);\n\nexport { Award as default };\n//# sourceMappingURL=award.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BookOpen = createLucideIcon(\"BookOpen\", [\n  [\"path\", { d: \"M12 7v14\", key: \"1akyts\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\",\n      key: \"ruj8y\"\n    }\n  ]\n]);\n\nexport { BookOpen as default };\n//# sourceMappingURL=book-open.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calendar = createLucideIcon(\"Calendar\", [\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", key: \"1hopcy\" }],\n  [\"path\", { d: \"M3 10h18\", key: \"8toen8\" }]\n]);\n\nexport { Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleAlert = createLucideIcon(\"CircleAlert\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleX = createLucideIcon(\"CircleX\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Copy = createLucideIcon(\"Copy\", [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n]);\n\nexport { Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\"polygon\", { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LoaderCircle = createLucideIcon(\"LoaderCircle\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mail = createLucideIcon(\"Mail\", [\n  [\"rect\", { width: \"20\", height: \"16\", x: \"2\", y: \"4\", rx: \"2\", key: \"18n3k1\" }],\n  [\"path\", { d: \"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\", key: \"1ocrg3\" }]\n]);\n\nexport { Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Smartphone = createLucideIcon(\"Smartphone\", [\n  [\"rect\", { width: \"14\", height: \"20\", x: \"5\", y: \"2\", rx: \"2\", ry: \"2\", key: \"1yt0o3\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }]\n]);\n\nexport { Smartphone as default };\n//# sourceMappingURL=smartphone.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SquarePen = createLucideIcon(\"SquarePen\", [\n  [\"path\", { d: \"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1m0v6g\" }],\n  [\n    \"path\",\n    {\n      d: \"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\",\n      key: \"ohrbg2\"\n    }\n  ]\n]);\n\nexport { SquarePen as default };\n//# sourceMappingURL=square-pen.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Target = createLucideIcon(\"Target\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","// Email service using Lambda + SES for better security\nexport interface EmailData {\n  to: string;\n  subject: string;\n  htmlBody: string;\n  textBody?: string;\n  from?: string;\n}\n\nexport interface EmailTemplate {\n  id: string;\n  name: string;\n  type: string;\n  subject_template: string;\n  html_body_template: string;\n  text_body_template?: string | null;\n  variables?: string[] | null;\n  is_active?: boolean | null;\n  system: boolean;\n}\n\nexport class EmailService {\n  private static instance: EmailService;\n  private lambdaUrl: string;\n  private defaultFrom: string;\n  private baseUrl: string;\n\n  private constructor() {\n    // This will be set by the consuming app\n    this.lambdaUrl = '';\n    this.defaultFrom = 'kahuna@raynsecure.com';\n    this.baseUrl = '';\n  }\n\n  public static getInstance(): EmailService {\n    if (!EmailService.instance) {\n      EmailService.instance = new EmailService();\n    }\n    return EmailService.instance;\n  }\n\n  public static configure(config: {\n    lambdaUrl: string;\n    fromEmail?: string;\n    baseUrl?: string;\n  }): void {\n    const instance = EmailService.getInstance();\n    instance.lambdaUrl = config.lambdaUrl;\n    if (config.fromEmail) {\n      instance.defaultFrom = config.fromEmail;\n    }\n    if (config.baseUrl) {\n      instance.baseUrl = config.baseUrl;\n    }\n  }\n\n  // Helper method to generate lesson URLs\n  public generateLessonUrl(lessonId: string, clientPath?: string): string {\n    if (!this.baseUrl) {\n      console.warn('Base URL not configured. Please configure EmailService with baseUrl.');\n      return `#/lesson/${lessonId}`;\n    }\n    \n    const base = this.baseUrl.endsWith('/') ? this.baseUrl.slice(0, -1) : this.baseUrl;\n    const path = clientPath ? `/${clientPath}` : '';\n    return `${base}${path}/#/lesson/${lessonId}`;\n  }\n\n  // Template variable substitution with Handlebars-like conditionals support\n  // Made public so it can be used in preview\n  public substituteVariables(template: string, variables: Record<string, any>): string {\n    let result = template;\n    \n    // First, handle Handlebars conditionals {{#if variable}}...{{/if}}\n    // Remove blocks where the condition is false/undefined/null\n    result = result.replace(/\\{\\{#if\\s+(\\w+)\\}\\}([\\s\\S]*?)\\{\\{\\/if\\}\\}/g, (match, variableName, content) => {\n      const value = variables[variableName];\n      // Show content if variable is truthy and not empty string\n      if (value && value !== '' && value !== 'false' && value !== '0') {\n        return content;\n      }\n      return ''; // Remove the block if condition is false\n    });\n    \n    // Then substitute all remaining variables\n    for (const [key, value] of Object.entries(variables)) {\n      const regex = new RegExp(`\\\\{\\\\{${key}\\\\}\\\\}`, 'g');\n      result = result.replace(regex, String(value || ''));\n    }\n    \n    return result;\n  }\n\n  // Fetch template from database\n  private async fetchTemplate(\n    type: string,\n    supabaseClient: any\n  ): Promise<EmailTemplate | null> {\n    try {\n      const { data, error } = await supabaseClient\n        .from('email_templates')\n        .select('*')\n        .eq('type', type)\n        .eq('is_active', true)\n        .order('system', { ascending: false }) // Prefer system templates\n        .limit(1)\n        .single();\n\n      if (error) {\n        console.error(`Error fetching template for type ${type}:`, error);\n        return null;\n      }\n\n      return data;\n    } catch (error) {\n      console.error(`Error fetching template for type ${type}:`, error);\n      return null;\n    }\n  }\n\n  // Send email using template from database\n  async sendEmailFromTemplate(\n    type: string,\n    to: string,\n    variables: Record<string, any>,\n    supabaseClient: any\n  ): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    try {\n      // Fetch template from database\n      const template = await this.fetchTemplate(type, supabaseClient);\n\n      if (!template) {\n        return {\n          success: false,\n          error: `No active template found for type: ${type}`,\n        };\n      }\n\n      // Substitute variables in subject and body\n      const subject = this.substituteVariables(template.subject_template, variables);\n      const htmlBody = this.substituteVariables(template.html_body_template, variables);\n      const textBody = template.text_body_template\n        ? this.substituteVariables(template.text_body_template, variables)\n        : undefined;\n\n      // Send the email\n      return await this.sendEmail(\n        {\n          to,\n          subject,\n          htmlBody,\n          textBody,\n        },\n        supabaseClient\n      );\n    } catch (error: any) {\n      console.error('Error sending email from template:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to send email from template',\n      };\n    }\n  }\n\n  async sendEmail(emailData: EmailData, supabaseClient?: any, notificationId?: string): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    // NEW METHOD: Use Supabase Edge Function instead of direct Lambda call\n    try {\n      // Use provided supabase client or fallback to direct fetch\n      if (supabaseClient) {\n        const { data, error } = await supabaseClient.functions.invoke('send-email', {\n          body: {\n            to: emailData.to,\n            subject: emailData.subject,\n            html: emailData.htmlBody, // Note: Edge Function expects 'html', not 'htmlBody'\n          }\n        });\n\n        if (error) {\n          // Update notification status to 'failed' if notificationId provided\n          if (notificationId && supabaseClient) {\n            await this.updateNotificationStatus(supabaseClient, notificationId, 'failed', undefined, error.message || 'Failed to send email');\n          }\n          return {\n            success: false,\n            error: error.message || 'Failed to send email',\n          };\n        }\n\n        if (data && data.success) {\n          // Update notification status to 'sent' if notificationId provided\n          if (notificationId && supabaseClient) {\n            // Add small delay for testing visibility\n            await new Promise(resolve => setTimeout(resolve, 2000));\n            await this.updateNotificationStatus(supabaseClient, notificationId, 'sent', data.messageId);\n          }\n          return {\n            success: true,\n            messageId: data.messageId,\n          };\n        } else {\n          // Update notification status to 'failed' if notificationId provided\n          if (notificationId && supabaseClient) {\n            await this.updateNotificationStatus(supabaseClient, notificationId, 'failed', undefined, data?.error || 'Failed to send email');\n          }\n          return {\n            success: false,\n            error: data?.error || 'Failed to send email',\n          };\n        }\n      } else {\n        // Fallback to direct fetch if no supabase client provided\n        const supabaseUrl = (typeof window !== 'undefined' && (window as any).VITE_SUPABASE_URL) || 'https://ufvingocbzegpgjknzhm.supabase.co';\n        const supabaseKey = (typeof window !== 'undefined' && (window as any).VITE_SUPABASE_ANON_KEY);\n        \n        if (!supabaseKey) {\n          return {\n            success: false,\n            error: 'Supabase client not provided and VITE_SUPABASE_ANON_KEY not configured',\n          };\n        }\n\n        const response = await fetch(`${supabaseUrl}/functions/v1/send-email`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${supabaseKey}`,\n          },\n          body: JSON.stringify({\n            to: emailData.to,\n            subject: emailData.subject,\n            html: emailData.htmlBody,\n          }),\n        });\n\n        const result = await response.json();\n\n        if (response.ok && result.success) {\n          // Update notification status to 'sent' if notificationId provided\n          if (notificationId && supabaseClient) {\n            await this.updateNotificationStatus(supabaseClient, notificationId, 'sent', result.messageId);\n          }\n          return {\n            success: true,\n            messageId: result.messageId,\n          };\n        } else {\n          // Update notification status to 'failed' if notificationId provided\n          if (notificationId && supabaseClient) {\n            await this.updateNotificationStatus(supabaseClient, notificationId, 'failed', undefined, result.error || 'Failed to send email');\n          }\n          return {\n            success: false,\n            error: result.error || 'Failed to send email',\n          };\n        }\n      }\n    } catch (error: any) {\n      console.error('Error sending email:', error);\n      // Update notification status to 'failed' if notificationId provided\n      if (notificationId && supabaseClient) {\n        await this.updateNotificationStatus(supabaseClient, notificationId, 'failed', undefined, error.message || 'Failed to send email');\n      }\n      return {\n        success: false,\n        error: error.message || 'Failed to send email',\n      };\n    }\n  }\n\n  // Template for lesson reminder emails\n  async sendLessonReminder(\n    to: string,\n    lessonTitle: string,\n    scheduledTime: string,\n    supabaseClient?: any,\n    additionalVariables?: Record<string, any>\n  ): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    // Try to use database template first\n    if (supabaseClient) {\n      const variables = {\n        lesson_title: lessonTitle,\n        scheduled_time: scheduledTime,\n        ...additionalVariables,\n      };\n\n      const result = await this.sendEmailFromTemplate(\n        'lesson_reminder',\n        to,\n        variables,\n        supabaseClient\n      );\n\n      // If template found and sent successfully, return\n      if (result.success || result.error !== `No active template found for type: lesson_reminder`) {\n        return result;\n      }\n    }\n\n    // Fallback to hardcoded template if no database template exists\n    const subject = `Reminder: ${lessonTitle} starts soon`;\n    const htmlBody = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h2 style=\"color: #2563eb;\">Lesson Reminder</h2>\n        <p>Hello!</p>\n        <p>This is a friendly reminder that your lesson <strong>${lessonTitle}</strong> is scheduled to start at <strong>${scheduledTime}</strong>.</p>\n        <p>Please make sure you're ready to begin your cybersecurity training session.</p>\n        <div style=\"background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n          <h3 style=\"margin-top: 0;\">Lesson Details:</h3>\n          <p><strong>Title:</strong> ${lessonTitle}</p>\n          <p><strong>Time:</strong> ${scheduledTime}</p>\n        </div>\n        <p>Best regards,<br>Your Cybersecurity Training Team</p>\n      </div>\n    `;\n\n    return this.sendEmail({\n      to,\n      subject,\n      htmlBody,\n    }, supabaseClient);\n  }\n\n  // Template for task due date reminders\n  async sendTaskDueReminder(to: string, taskName: string, dueDate: string, supabaseClient?: any): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    const subject = `Reminder: ${taskName} is due soon`;\n    const htmlBody = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h2 style=\"color: #dc2626;\">Task Due Reminder</h2>\n        <p>Hello!</p>\n        <p>This is a reminder that your task <strong>${taskName}</strong> is due on <strong>${dueDate}</strong>.</p>\n        <p>Please complete this task to stay on track with your cybersecurity training.</p>\n        <div style=\"background-color: #fef2f2; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #dc2626;\">\n          <h3 style=\"margin-top: 0; color: #dc2626;\">Task Details:</h3>\n          <p><strong>Task:</strong> ${taskName}</p>\n          <p><strong>Due Date:</strong> ${dueDate}</p>\n        </div>\n        <p>Best regards,<br>Your Cybersecurity Training Team</p>\n      </div>\n    `;\n\n    return this.sendEmail({\n      to,\n      subject,\n      htmlBody,\n    }, supabaseClient);\n  }\n\n  // Template for achievement emails\n  async sendAchievementEmail(to: string, achievementTitle: string, achievementDescription: string, supabaseClient?: any): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    const subject = `Congratulations! You've earned: ${achievementTitle}`;\n    const htmlBody = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h2 style=\"color: #059669;\">üéâ Achievement Unlocked!</h2>\n        <p>Congratulations!</p>\n        <p>You've successfully earned the achievement: <strong>${achievementTitle}</strong></p>\n        <div style=\"background-color: #ecfdf5; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #059669;\">\n          <h3 style=\"margin-top: 0; color: #059669;\">Achievement Details:</h3>\n          <p><strong>Title:</strong> ${achievementTitle}</p>\n          <p><strong>Description:</strong> ${achievementDescription}</p>\n        </div>\n        <p>Keep up the great work in your cybersecurity journey!</p>\n        <p>Best regards,<br>Your Cybersecurity Training Team</p>\n      </div>\n    `;\n\n    return this.sendEmail({\n      to,\n      subject,\n      htmlBody,\n    }, supabaseClient);\n  }\n\n  // Template for course completion emails\n  async sendCourseCompletionEmail(to: string, courseName: string, supabaseClient?: any): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    const subject = `Congratulations! You've completed ${courseName}`;\n    const htmlBody = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h2 style=\"color: #7c3aed;\">üéì Course Completed!</h2>\n        <p>Congratulations on completing your course!</p>\n        <p>You've successfully finished: <strong>${courseName}</strong></p>\n        <div style=\"background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #7c3aed;\">\n          <h3 style=\"margin-top: 0; color: #7c3aed;\">Course Details:</h3>\n          <p><strong>Course:</strong> ${courseName}</p>\n          <p><strong>Status:</strong> ‚úÖ Completed</p>\n        </div>\n        <p>You're now one step closer to becoming a cybersecurity expert!</p>\n        <p>Best regards,<br>Your Cybersecurity Training Team</p>\n      </div>\n    `;\n\n    return this.sendEmail({\n      to,\n      subject,\n      htmlBody,\n    }, supabaseClient);\n  }\n\n  // Template for system alert emails\n  async sendSystemAlert(to: string, alertTitle: string, alertMessage: string, supabaseClient?: any): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    const subject = `System Alert: ${alertTitle}`;\n    const htmlBody = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h2 style=\"color: #ea580c;\">‚ö†Ô∏è System Alert</h2>\n        <p>Hello!</p>\n        <p>This is an important system alert regarding: <strong>${alertTitle}</strong></p>\n        <div style=\"background-color: #fff7ed; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ea580c;\">\n          <h3 style=\"margin-top: 0; color: #ea580c;\">Alert Details:</h3>\n          <p><strong>Title:</strong> ${alertTitle}</p>\n          <p><strong>Message:</strong> ${alertMessage}</p>\n        </div>\n        <p>Please take note of this information.</p>\n        <p>Best regards,<br>Your Cybersecurity Training Team</p>\n      </div>\n    `;\n\n    return this.sendEmail({\n      to,\n      subject,\n      htmlBody,\n    }, supabaseClient);\n  }\n\n  // Send email using provided template data directly (for testing)\n  async sendEmailWithTemplate(\n    subjectTemplate: string,\n    htmlBodyTemplate: string,\n    textBodyTemplate: string,\n    to: string,\n    variables: Record<string, any>,\n    supabaseClient?: any,\n    notificationId?: string\n  ): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    try {\n      // Substitute variables in templates\n      const subject = this.substituteVariables(subjectTemplate, variables);\n      const htmlBody = this.substituteVariables(htmlBodyTemplate, variables);\n      const textBody = this.substituteVariables(textBodyTemplate, variables);\n\n      return this.sendEmail({\n        to,\n        subject,\n        htmlBody,\n        textBody,\n      }, supabaseClient, notificationId);\n    } catch (error: any) {\n      console.error('Error sending email with template:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to send email with template',\n      };\n    }\n  }\n\n  // Update notification status in database\n  private async updateNotificationStatus(\n    supabaseClient: any,\n    notificationId: string,\n    status: 'sent' | 'failed',\n    messageId?: string,\n    errorMessage?: string\n  ): Promise<void> {\n    try {\n      const updateData: any = {\n        status,\n      };\n\n      if (status === 'sent') {\n        updateData.sent_at = new Date().toISOString();\n      }\n\n      if (errorMessage) {\n        updateData.error_message = errorMessage;\n      }\n\n      const { error } = await supabaseClient\n        .from('notification_history')\n        .update(updateData)\n        .eq('id', notificationId);\n\n      if (error) {\n        console.error('Failed to update notification status:', error);\n      } else {\n        console.log(`Notification ${notificationId} status updated to ${status}`);\n        // Add delay for testing visibility\n        if (status === 'sent') {\n          console.log('‚è±Ô∏è Status update completed - check Recent tab now!');\n        }\n      }\n    } catch (error) {\n      console.error('Error updating notification status:', error);\n    }\n  }\n}\n\nexport const emailService = EmailService.getInstance();\n\n/**\n * Gathers real variables from the database for lesson completion notifications\n * This is used when sending REAL notifications, not previews\n */\nexport async function gatherLessonCompletedVariables(\n  supabaseClient: any,\n  event: { \n    user_id: string; \n    lesson_id: string; \n    learning_track_id?: string;\n    clientId?: string;\n  }\n): Promise<Record<string, any>> {\n  try {\n    // Get user info\n    const { data: user } = await supabaseClient\n      .from('profiles')\n      .select('full_name, email')\n      .eq('id', event.user_id)\n      .single();\n\n    // Get lesson info\n    const { data: lesson } = await supabaseClient\n      .from('lessons')\n      .select('title, description')\n      .eq('id', event.lesson_id)\n      .single();\n\n    // Get learning track info if available\n    let track = null;\n    let progress = null;\n    let lessonsCompleted = 0;\n    let totalLessons = 0;\n    let nextLesson = null;\n    \n    if (event.learning_track_id) {\n      track = await supabaseClient\n        .from('learning_tracks')\n        .select('title')\n        .eq('id', event.learning_track_id)\n        .single();\n\n      // Get progress in track\n      progress = await supabaseClient\n        .from('user_learning_track_progress')\n        .select('current_lesson_order')\n        .eq('user_id', event.user_id)\n        .eq('learning_track_id', event.learning_track_id)\n        .maybeSingle();\n\n      // Count lessons completed in this track\n      const { data: completedLessons } = await supabaseClient\n        .from('user_lesson_progress')\n        .select('lesson_id')\n        .eq('user_id', event.user_id)\n        .not('completed_at', 'is', null);\n\n      // Get total lessons in track\n      const { data: trackLessons } = await supabaseClient\n        .from('learning_track_lessons')\n        .select('lesson_id')\n        .eq('learning_track_id', event.learning_track_id);\n\n      totalLessons = trackLessons?.length || 0;\n      \n      // Count how many completed lessons are in this track\n      const completedInTrack = completedLessons?.filter((cl: any) => \n        trackLessons?.some((tl: any) => tl.lesson_id === cl.lesson_id)\n      ).length || 0;\n      lessonsCompleted = completedInTrack;\n\n      // Get next lesson if available\n      const currentOrder = progress?.current_lesson_order || 0;\n      const { data: nextLessonData } = await supabaseClient\n        .from('learning_track_lessons')\n        .select('lesson_id, order_index, lessons(title)')\n        .eq('learning_track_id', event.learning_track_id)\n        .gt('order_index', currentOrder)\n        .order('order_index')\n        .limit(1)\n        .maybeSingle();\n\n      if (nextLessonData) {\n        nextLesson = {\n          title: (nextLessonData.lessons as any)?.title || 'Next Lesson',\n          id: nextLessonData.lesson_id\n        };\n      }\n    }\n\n    // Build client login URL\n    const origin = typeof window !== 'undefined' ? window.location.origin : 'https://staysecure-learn.raynsecure.com';\n    const clientId = event.clientId || 'default';\n    const clientPath = clientId !== 'default' ? `/${clientId}` : '';\n    const clientLoginUrl = `${origin}${clientPath}/login`;\n\n    // Calculate progress percentage\n    const trackProgressPercentage = totalLessons > 0 \n      ? Math.round((lessonsCompleted / totalLessons) * 100)\n      : 0;\n\n    return {\n      user_name: user?.full_name || 'User',\n      user_email: user?.email || '',\n      lesson_title: lesson?.title || 'Lesson',\n      lesson_description: lesson?.description || '',\n      learning_track_title: track?.title || '',\n      completion_date: new Date().toLocaleDateString('en-US'),\n      completion_time: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\n      lessons_completed_in_track: lessonsCompleted,\n      total_lessons_in_track: totalLessons,\n      track_progress_percentage: trackProgressPercentage,\n      next_lesson_title: nextLesson?.title || null,\n      next_lesson_available: !!nextLesson,\n      next_lesson_url: clientLoginUrl, // Always use login URL as per requirement\n      client_login_url: clientLoginUrl\n    };\n  } catch (error) {\n    console.error('Error gathering lesson completed variables:', error);\n    // Return minimal fallback\n    return {\n      user_name: 'User',\n      lesson_title: 'Lesson',\n      client_login_url: 'https://staysecure-learn.raynsecure.com/login'\n    };\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport { Mail, Send } from 'lucide-react';\nimport { emailService, EmailService } from '../lib/emailService';\n\n// These should be passed as props or configured externally\ninterface EmailNotificationsProps {\n  // Supabase client - should be passed from the consuming app\n  supabase: any;\n  // User object - should be passed from the consuming app\n  user: any;\n  // AWS configuration - should be passed from the consuming app\n  awsConfig?: {\n    lambdaUrl: string;\n    fromEmail: string;\n  };\n  // UI components - should be passed from the consuming app\n  Button: any;\n  Card: any;\n  CardContent: any;\n  CardDescription: any;\n  CardHeader: any;\n  CardTitle: any;\n  Input: any;\n  Label: any;\n  Switch: any;\n  Select: any;\n  SelectContent: any;\n  SelectItem: any;\n  SelectTrigger: any;\n  SelectValue: any;\n  Textarea: any;\n}\n\n\ninterface EmailPreferences {\n  id?: string;\n  userId?: string; // NULL for org-level, user UUID for user-level\n  emailEnabled: boolean;\n  taskDueDates: boolean;\n  systemAlerts: boolean;\n  achievements: boolean;\n  courseCompletions: boolean;\n  quietHoursEnabled: boolean;\n  quietHoursStart: string;\n  quietHoursEnd: string;\n  // Reminder settings (consolidated from lesson_reminder_config)\n  reminderDaysBefore: number;\n  reminderTime: string;\n  includeUpcomingLessons: boolean;\n  upcomingDaysAhead: number;\n  maxReminderAttempts: number;\n  reminderFrequencyDays: number;\n}\n\n// ReminderSettings interface removed - now part of EmailPreferences\n\nexport const EmailNotifications: React.FC<EmailNotificationsProps> = ({\n  supabase,\n  user, // Keep for now for auth context, but not used for preferences\n  awsConfig,\n  Button,\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  Input,\n  Label,\n  Switch,\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n  Textarea,\n}) => {\n  const [preferences, setPreferences] = useState<EmailPreferences | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [sending, setSending] = useState(false);\n  // Removed unused state variables - now using consolidated preferences\n  const [testEmailType, setTestEmailType] = useState<string>('system_alert');\n\n  // Configure email service with AWS config\n  useEffect(() => {\n    if (awsConfig) {\n      EmailService.configure(awsConfig);\n    }\n  }, [awsConfig]);\n\n  // Load user preferences and reminder settings\n  useEffect(() => {\n    loadPreferences(); // Load org-level preferences (no user dependency)\n  }, []);\n\n  const loadPreferences = async () => {\n    try {\n      // Simple algorithm: load the one org-level row\n      const { data, error } = await supabase\n        .from('email_preferences')\n        .select('*')\n        .is('user_id', null)\n        .single();\n\n      if (error) {\n        console.error('Error loading preferences:', error);\n        return;\n      }\n\n      if (data) {\n        // Map database columns to component interface\n        const mappedData: EmailPreferences = {\n          id: data.id,\n          userId: data.user_id, // Will be null for org-level\n          emailEnabled: data.email_enabled,\n          taskDueDates: data.task_due_dates,\n          systemAlerts: data.system_alerts,\n          achievements: data.achievements,\n          courseCompletions: data.course_completions,\n          quietHoursEnabled: data.quiet_hours_enabled,\n          quietHoursStart: data.quiet_hours_start_time,\n          quietHoursEnd: data.quiet_hours_end_time,\n          // Reminder settings (now part of the same table)\n          reminderDaysBefore: data.reminder_days_before,\n          reminderTime: data.reminder_time,\n          includeUpcomingLessons: data.include_upcoming_lessons,\n          upcomingDaysAhead: data.upcoming_days_ahead,\n          maxReminderAttempts: data.max_reminder_attempts,\n          reminderFrequencyDays: data.reminder_frequency_days,\n        };\n        setPreferences(mappedData);\n      }\n    } catch (error) {\n      console.error('Error loading preferences:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Simple algorithm: just load existing row, no creation logic needed\n\n  const updatePreferences = async (updates: Partial<EmailPreferences>) => {\n    const updatedPrefs = { \n      ...preferences, \n      ...updates, \n      userId: null // Always org-level settings\n    };\n    setPreferences(updatedPrefs);\n\n    // Get current user for audit fields\n    const { data: { user: currentUser } } = await supabase.auth.getUser();\n\n    const dbPayload = {\n      user_id: null, // Always org-level settings\n      email_enabled: updatedPrefs.emailEnabled,\n      task_due_dates: updatedPrefs.taskDueDates,\n      system_alerts: updatedPrefs.systemAlerts,\n      achievements: updatedPrefs.achievements,\n      course_completions: updatedPrefs.courseCompletions,\n      quiet_hours_enabled: updatedPrefs.quietHoursEnabled,\n      quiet_hours_start_time: updatedPrefs.quietHoursStart,\n      quiet_hours_end_time: updatedPrefs.quietHoursEnd,\n      // Reminder settings (consolidated)\n      reminder_days_before: updatedPrefs.reminderDaysBefore,\n      reminder_time: updatedPrefs.reminderTime,\n      include_upcoming_lessons: updatedPrefs.includeUpcomingLessons,\n      upcoming_days_ahead: updatedPrefs.upcomingDaysAhead,\n      max_reminder_attempts: updatedPrefs.maxReminderAttempts,\n      reminder_frequency_days: updatedPrefs.reminderFrequencyDays,\n      // Audit fields\n      updated_by: currentUser?.id || null,\n    };\n\n    // Update the existing org-level row (user_id IS NULL)\n    const { error } = await supabase\n      .from('email_preferences')\n      .update(dbPayload)\n      .is('user_id', null);\n\n    if (error) {\n      console.error('Error updating preferences:', error);\n    }\n  };\n\n  // loadReminderSettings removed - now part of loadPreferences\n\n  // saveReminderSettingsAuto removed - now uses updatePreferences directly\n\n  // saveReminderSettings removed - now uses updatePreferences directly\n\n  const testReminders = async () => {\n    try {\n      setTestingReminders(true);\n\n      // Call the Edge Function to send test reminders\n      const { data, error } = await supabase.functions.invoke('send-lesson-reminders', {\n        body: {\n          test: true,\n          email: user?.email,\n        },\n      });\n\n      if (error) throw error;\n\n      if (data && data.success) {\n        alert(`Test reminders sent successfully! Check your email at ${user?.email}`);\n      } else {\n        alert(`Test failed: ${data?.message || 'Unknown error'}`);\n      }\n    } catch (err: any) {\n      console.error('Error testing reminders:', err);\n      alert(`Failed to send test reminders: ${err.message}`);\n    } finally {\n      setTestingReminders(false);\n    }\n  };\n\n\n  const sendTestEmail = async () => {\n    if (!user || !user.email) {\n      return;\n    }\n\n    setSending(true);\n    try {\n      let emailResult;\n\n      // Send different types of test emails based on selection\n      switch (testEmailType) {\n        case 'lesson_reminder':\n          emailResult = await emailService.sendLessonReminder(\n            user.email,\n            'Introduction to Cybersecurity',\n            '2:00 PM today',\n            supabase\n          );\n          break;\n        case 'task_due':\n          emailResult = await emailService.sendTaskDueReminder(\n            user.email,\n            'Security Assessment Quiz',\n            'Tomorrow at 11:59 PM',\n            supabase\n          );\n          break;\n        case 'achievement':\n          emailResult = await emailService.sendAchievementEmail(\n            user.email,\n            'First Lesson Completed',\n            'You completed your first cybersecurity lesson!',\n            supabase\n          );\n          break;\n        case 'course_completion':\n          emailResult = await emailService.sendCourseCompletionEmail(\n            user.email,\n            'Cybersecurity Fundamentals',\n            supabase\n          );\n          break;\n        case 'system_alert':\n        default:\n          emailResult = await emailService.sendSystemAlert(\n            user.email,\n            'System Maintenance',\n            'Scheduled maintenance will occur tonight at 2 AM EST.',\n            supabase\n          );\n          break;\n      }\n\n      if (emailResult.success) {\n        // Save to database\n        const { error } = await supabase\n          .from('email_notifications')\n          .insert({\n            user_id: user.id,\n            type: testEmailType as any,\n            title: 'Test Email Notification',\n            message: `Test ${testEmailType} email sent successfully.`,\n            email: user.email,\n            status: 'sent',\n          });\n\n        if (error) {\n          console.error('Error saving notification:', error);\n        }\n\n        alert('Test email sent successfully!');\n      } else {\n        alert(`Failed to send email: ${emailResult.error}`);\n      }\n    } catch (error) {\n      console.error('Error sending test email:', error);\n      alert('Error sending test email. Please check console for details.');\n    } finally {\n      setSending(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-learning-primary\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center gap-2\">\n        <Mail className=\"h-6 w-6 text-learning-primary\" />\n        <h2 className=\"text-2xl font-bold text-learning-primary\">Email Preferences</h2>\n      </div>\n\n      {/* Email Preferences */}\n      <div className=\"space-y-6\">\n          {/* Global Email Toggle */}\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-left\">\n              <Label htmlFor=\"email-enabled\">Enable Email Notifications</Label>\n            </div>\n            <Switch\n              id=\"email-enabled\"\n              checked={preferences?.emailEnabled || false}\n              onCheckedChange={(checked) => updatePreferences({ emailEnabled: checked })}\n            />\n          </div>\n\n          {/* Reminder Limits - Right below Enable Email Toggle */}\n          {preferences?.emailEnabled && (\n            <div className=\"grid grid-cols-2 gap-4 pl-4 border-l-2 border-blue-200\">\n              <div>\n                <Label htmlFor=\"max-attempts\" className=\"text-sm\">Max Reminder Attempts</Label>\n                <Input\n                  id=\"max-attempts\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"10\"\n                  value={preferences?.maxReminderAttempts || 3}\n                         onChange={(e) => updatePreferences({ maxReminderAttempts: parseInt(e.target.value) || 3 })}\n                  className=\"mt-1\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"reminder-frequency\" className=\"text-sm\">Reminder Frequency (Days)</Label>\n                <Input\n                  id=\"reminder-frequency\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"30\"\n                  value={preferences?.reminderFrequencyDays || 7}\n                         onChange={(e) => updatePreferences({ reminderFrequencyDays: parseInt(e.target.value) || 7 })}\n                  className=\"mt-1\"\n                />\n              </div>\n            </div>\n          )}\n\n\n          {/* Notification Type Preferences */}\n          {preferences?.emailEnabled && (\n            <div className=\"space-y-4\">\n              <h4 className=\"font-medium\">Notification Types</h4>\n              \n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-left\">Task Due Dates</Label>\n                  <Switch\n                    checked={preferences?.taskDueDates || false}\n                    onCheckedChange={(checked) => updatePreferences({ taskDueDates: checked })}\n                  />\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-left\">System Alerts</Label>\n                  <Switch\n                    checked={preferences?.systemAlerts || false}\n                    onCheckedChange={(checked) => updatePreferences({ systemAlerts: checked })}\n                  />\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-left\">Achievements</Label>\n                  <Switch\n                    checked={preferences?.achievements || false}\n                    onCheckedChange={(checked) => updatePreferences({ achievements: checked })}\n                  />\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-left\">Course Completions</Label>\n                  <Switch\n                    checked={preferences?.courseCompletions || false}\n                    onCheckedChange={(checked) => updatePreferences({ courseCompletions: checked })}\n                  />\n                </div>\n\n                {/* Lesson Reminders - Enhanced */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-left font-medium\">Lesson Reminders</Label>\n                    <Switch\n                    checked={preferences?.reminderDaysBefore !== undefined && preferences?.reminderDaysBefore >= 0}\n                    onCheckedChange={(checked) => {\n                      updatePreferences({ \n                        reminderDaysBefore: checked ? 1 : -1 // -1 means disabled\n                      });\n                    }}\n                    />\n                  </div>\n                  \n                  {preferences?.reminderDaysBefore !== undefined && preferences?.reminderDaysBefore >= 0 && (\n                    <div className=\"space-y-4 pl-4 border-l-2 border-blue-200\">\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                          <Label htmlFor=\"reminder-days\" className=\"text-sm\">Days before lesson</Label>\n                          <Input\n                            id=\"reminder-days\"\n                            type=\"number\"\n                            min=\"0\"\n                            max=\"7\"\n                            value={preferences?.reminderDaysBefore || 0}\n                            onChange={(e) => updatePreferences({ reminderDaysBefore: parseInt(e.target.value) || 0 })}\n                            className=\"mt-1\"\n                          />\n                        </div>\n                        <div>\n                          <Label htmlFor=\"reminder-time\" className=\"text-sm\">Send at time</Label>\n                          <Input\n                            id=\"reminder-time\"\n                            type=\"time\"\n                            value={preferences?.reminderTime || '09:00'}\n                            onChange={(e) => updatePreferences({ reminderTime: e.target.value })}\n                            className=\"mt-1\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Upcoming Lessons - Enhanced */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-left font-medium\">Upcoming Lessons</Label>\n                    <Switch\n                      checked={preferences?.includeUpcomingLessons || false}\n                      onCheckedChange={(checked) => updatePreferences({ includeUpcomingLessons: checked })}\n                    />\n                  </div>\n                  \n                  {preferences?.includeUpcomingLessons && (\n                    <div className=\"pl-4 border-l-2 border-green-200\">\n                      <div>\n                        <Label htmlFor=\"upcoming-days\" className=\"text-sm\">Look ahead days</Label>\n                        <Input\n                          id=\"upcoming-days\"\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"14\"\n                          value={preferences?.upcomingDaysAhead || 3}\n                            onChange={(e) => updatePreferences({ upcomingDaysAhead: parseInt(e.target.value) || 3 })}\n                          className=\"mt-1\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n              </div>\n            </div>\n          )}\n\n          {/* Quiet Hours */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-left\">\n                <Label>Quiet Hours</Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  Don't send emails during these hours\n                </p>\n              </div>\n              <Switch\n                checked={preferences?.quietHoursEnabled || false}\n                onCheckedChange={(checked) => updatePreferences({ quietHoursEnabled: checked })}\n              />\n            </div>\n\n            {preferences?.quietHoursEnabled && (\n              <div className=\"flex items-center gap-4\">\n                <div>\n                  <Label>Start Time</Label>\n                  <Input\n                    type=\"time\"\n                    value={preferences?.quietHoursStart || '22:00'}\n                    onChange={(e) => updatePreferences({ quietHoursStart: e.target.value })}\n                  />\n                </div>\n                <div>\n                  <Label>End Time</Label>\n                  <Input\n                    type=\"time\"\n                    value={preferences?.quietHoursEnd || '08:00'}\n                    onChange={(e) => updatePreferences({ quietHoursEnd: e.target.value })}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n  );\n};\n\n","import React, { useState, useEffect } from 'react';\nimport { \n  Plus, \n  Search, \n  Edit, \n  Eye, \n  Trash2, \n  Copy,\n  Send,\n  Mail,\n  Loader2,\n  CheckCircle,\n  XCircle\n} from 'lucide-react';\n\ninterface EmailTemplate {\n  id: string;\n  name: string;\n  type: string;\n  subject_template: string;\n  html_body_template: string;\n  text_body_template?: string | null;\n  variables?: any;\n  is_system: boolean;\n  is_active?: boolean | null;\n  created_at: string;\n  updated_at?: string | null;\n}\n\ninterface EmailTemplateManagerProps {\n  supabaseClient: any;\n  Button: any;\n  Card: any;\n  CardContent: any;\n  CardDescription: any;\n  CardHeader: any;\n  CardTitle: any;\n  Input: any;\n  Label: any;\n  Badge: any;\n  Select: any;\n  SelectContent: any;\n  SelectItem: any;\n  SelectTrigger: any;\n  SelectValue: any;\n  Alert: any;\n  AlertDescription: any;\n  Dialog: any;\n  DialogContent: any;\n  DialogHeader: any;\n  DialogTitle: any;\n  DialogTrigger: any;\n  Textarea: any;\n  Popover: any;\n  PopoverContent: any;\n  PopoverTrigger: any;\n  isSuperAdmin?: boolean;\n}\n\nexport default function EmailTemplateManager({\n  supabaseClient,\n  Button,\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  Input,\n  Label,\n  Badge,\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n  Alert,\n  AlertDescription,\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  Textarea,\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n  isSuperAdmin = false\n}: EmailTemplateManagerProps) {\n  const [templates, setTemplates] = useState<EmailTemplate[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [typeFilter, setTypeFilter] = useState<string>('all');\n  const [selectedTemplate, setSelectedTemplate] = useState<EmailTemplate | null>(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [isViewing, setIsViewing] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n  const [sendingEmail, setSendingEmail] = useState<string | null>(null);\n  const [emailDialog, setEmailDialog] = useState<{\n    open: boolean;\n    type: 'success' | 'error';\n    message: string;\n  }>({ open: false, type: 'success', message: '' });\n\n  // Add CSS animation keyframes\n  React.useEffect(() => {\n    const style = document.createElement('style');\n    style.textContent = `\n      @keyframes spin {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(360deg); }\n      }\n    `;\n    document.head.appendChild(style);\n    return () => document.head.removeChild(style);\n  }, []);\n\n  // Load templates\n  useEffect(() => {\n    loadTemplates();\n  }, []);\n\n  const loadTemplates = async () => {\n    try {\n      setLoading(true);\n      const { data, error } = await supabaseClient\n        .from('email_templates')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setTemplates(data || []);\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (template: EmailTemplate) => {\n    setSelectedTemplate(template);\n    setIsEditing(true);\n  };\n\n  const handleView = (template: EmailTemplate) => {\n    setSelectedTemplate(template);\n    setIsViewing(true);\n  };\n\n  const handleDelete = async (template: EmailTemplate) => {\n    if (template.is_system) {\n      alert('System templates cannot be deleted');\n      return;\n    }\n\n    if (confirm(`Are you sure you want to delete \"${template.name}\"?`)) {\n      try {\n        const { error } = await supabaseClient\n          .from('email_templates')\n          .delete()\n          .eq('id', template.id);\n\n        if (error) throw error;\n        loadTemplates();\n      } catch (err: any) {\n        alert(`Error deleting template: ${err.message}`);\n      }\n    }\n  };\n\n  const handleDuplicate = async (template: EmailTemplate) => {\n    try {\n      const { error } = await supabaseClient\n        .from('email_templates')\n        .insert({\n          name: `${template.name} (Copy)`,\n          type: template.type,\n          subject_template: template.subject_template,\n          html_body_template: template.html_body_template,\n          text_body_template: template.text_body_template,\n          is_system: false\n        });\n\n      if (error) throw error;\n      loadTemplates();\n    } catch (err: any) {\n      alert(`Error duplicating template: ${err.message}`);\n    }\n  };\n\n  const handleSendTest = async (template: EmailTemplate) => {\n    try {\n      setSendingEmail(template.id);\n      \n      // Get current user's email for testing\n      const { data: { user } } = await supabaseClient.auth.getUser();\n      if (!user?.email) {\n        setEmailDialog({\n          open: true,\n          type: 'error',\n          message: 'No user email found for testing'\n        });\n        return;\n      }\n\n      // Generate sample variables based on template type\n      const sampleVariables = generateSampleVariables(template.type);\n      \n      // Create a notification record first to track the test email\n      const { data: notificationData, error: notificationError } = await supabaseClient\n        .from('notification_history')\n        .insert({\n          user_id: user.id,\n          email_template_id: template.id, // Include the template ID!\n          trigger_event: template.type,\n          template_variables: sampleVariables,\n          status: 'pending',\n          channel: 'email',\n          priority: 'normal'\n        })\n        .select('id')\n        .single();\n\n      if (notificationError) {\n        console.error('Failed to create notification record:', notificationError);\n        // Continue without notification tracking\n      }\n      \n      // Use the EmailService to send test email with the actual template data\n      const { emailService } = await import('../lib/emailService');\n      const service = emailService;\n      \n      // Use the actual template data instead of looking it up by type\n      const result = await service.sendEmailWithTemplate(\n        template.subject_template,\n        template.html_body_template,\n        template.text_body_template || '',\n        user.email,\n        sampleVariables,\n        supabaseClient,\n        notificationData?.id // Pass notification ID for status tracking\n      );\n\n      if (result.success) {\n        setEmailDialog({\n          open: true,\n          type: 'success',\n          message: `Test email sent successfully to ${user.email}`\n        });\n      } else {\n        setEmailDialog({\n          open: true,\n          type: 'error',\n          message: `Failed to send test email: ${result.error}`\n        });\n      }\n    } catch (err: any) {\n      setEmailDialog({\n        open: true,\n        type: 'error',\n        message: `Error sending test email: ${err.message}`\n      });\n    } finally {\n      setSendingEmail(null);\n    }\n  };\n\n  const handleCreate = () => {\n    setSelectedTemplate({\n      id: '',\n      name: '',\n      type: '',\n      subject_template: '',\n      html_body_template: '',\n      text_body_template: '',\n      is_system: false,\n      is_active: true,\n      created_at: new Date().toISOString()\n    });\n    setIsCreating(true);\n    setIsEditing(true);\n  };\n\n  const handleSave = async () => {\n    if (!selectedTemplate) return;\n\n    try {\n      const templateData = {\n        name: selectedTemplate.name,\n        type: selectedTemplate.type,\n        subject_template: selectedTemplate.subject_template,\n        html_body_template: selectedTemplate.html_body_template,\n        text_body_template: selectedTemplate.text_body_template,\n        is_system: selectedTemplate.is_system,\n        is_active: selectedTemplate.is_active\n      };\n\n      if (isCreating) {\n        // Create new template\n        const { error } = await supabaseClient\n          .from('email_templates')\n          .insert(templateData);\n        \n        if (error) throw error;\n        alert('Template created successfully');\n      } else {\n        // Update existing template\n        const { error } = await supabaseClient\n          .from('email_templates')\n          .update(templateData)\n          .eq('id', selectedTemplate.id);\n        \n        if (error) throw error;\n        alert('Template updated successfully');\n      }\n\n      setIsEditing(false);\n      setIsCreating(false);\n      setSelectedTemplate(null);\n      loadTemplates();\n    } catch (err: any) {\n      alert(`Error saving template: ${err.message}`);\n    }\n  };\n\n  /**\n   * Generates SAMPLE/DUMMY variables for preview and test emails only.\n   * For REAL notifications, use gatherLessonCompletedVariables() from emailService.ts\n   * which queries the database for actual user/lesson/track data.\n   */\n  const generateSampleVariables = (templateType: string) => {\n    // Use dynamic origin for lesson URLs to work across all client instances\n    const origin = typeof window !== 'undefined' ? window.location.origin : 'http://localhost:5173';\n    \n    // Extract client path from URL (e.g., /rayn from /rayn/admin)\n    const pathParts = typeof window !== 'undefined' ? window.location.pathname.split('/').filter(Boolean) : [];\n    const clientId = pathParts[0] || 'default';\n    const clientPath = clientId !== 'default' ? `/${clientId}` : '';\n    \n    // Construct client login URL\n    const clientLoginUrl = `${origin}${clientPath}/login`;\n    \n    const baseVariables = {\n      user_name: 'John Doe',\n      lesson_title: 'Introduction to Cybersecurity',\n      learning_track_title: 'Cybersecurity Fundamentals',\n      lesson_description: 'Learn the basics of cybersecurity and how to protect digital assets.',\n      completion_date: new Date().toLocaleDateString('en-US'),\n      completion_time: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\n      available_date: new Date().toLocaleDateString('en-US', { \n        weekday: 'long', \n        year: 'numeric', \n        month: 'long', \n        day: 'numeric' \n      }),\n      reminder_type: 'Available Now',\n      lesson_url: `${origin}${clientPath}/#/lesson/sample-lesson-id`,\n      client_login_url: clientLoginUrl\n    };\n\n    switch (templateType) {\n      case 'lesson_completed':\n        return {\n          ...baseVariables,\n          lessons_completed_in_track: 5,\n          total_lessons_in_track: 10,\n          track_progress_percentage: 50,\n          next_lesson_title: 'Advanced Security Concepts',\n          next_lesson_available: true,\n          next_lesson_url: clientLoginUrl, // Use client_login_url instead of hardcoded localhost\n          client_login_url: clientLoginUrl\n        };\n      case 'track_milestone_50':\n        return {\n          ...baseVariables,\n          milestone_percentage: 50,\n          lessons_completed: 5,\n          total_lessons: 10,\n          time_spent_hours: 12,\n          continue_learning_url: clientLoginUrl,\n          client_login_url: clientLoginUrl\n        };\n      case 'quiz_high_score':\n        return {\n          ...baseVariables,\n          quiz_title: 'Cybersecurity Basics Quiz',\n          score: 95,\n          correct_answers: 19,\n          total_questions: 20,\n          view_results_url: clientLoginUrl,\n          continue_learning_url: clientLoginUrl,\n          client_login_url: clientLoginUrl\n        };\n      case 'lesson_reminder':\n        return {\n          ...baseVariables,\n          lesson_description: 'Learn the basics of cybersecurity and how to protect digital assets.',\n          reminder_type: 'Available Now',\n          client_login_url: clientLoginUrl\n        };\n      default:\n        return baseVariables;\n    }\n  };\n\n  const filteredTemplates = templates.filter(template => {\n    const matchesSearch = \n      template.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      template.type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      template.subject_template.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesStatus = statusFilter === 'all' || \n      (statusFilter === 'system' && template.is_system) ||\n      (statusFilter === 'custom' && !template.is_system);\n    \n    const matchesType = typeFilter === 'all' || template.type === typeFilter;\n    \n    return matchesSearch && matchesStatus && matchesType;\n  });\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case 'lesson_completed': return 'bg-green-100 text-green-800';\n      case 'track_milestone': return 'bg-blue-100 text-blue-800';\n      case 'quiz_high_score': return 'bg-purple-100 text-purple-800';\n      case 'lesson_reminder': return 'bg-orange-100 text-orange-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"text-muted-foreground\">Loading templates...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert className=\"mb-4\">\n        <AlertDescription>Error loading templates: {error}</AlertDescription>\n      </Alert>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-learning-primary\">Email Template Management</h2>\n          <p className=\"text-muted-foreground\">Create and manage email templates</p>\n        </div>\n        {isSuperAdmin ? (\n          <div className=\"flex items-center space-x-2\">\n            <Button \n              onClick={handleCreate}\n            >\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Template\n            </Button>\n          </div>\n        ) : (\n          <div className=\"text-sm text-muted-foreground\">\n            Template creation requires Super Admin access\n          </div>\n        )}\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"flex-1\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search templates...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger className=\"w-32\">\n              <SelectValue placeholder=\"Status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Status</SelectItem>\n              <SelectItem value=\"system\">System</SelectItem>\n              <SelectItem value=\"custom\">Custom</SelectItem>\n            </SelectContent>\n          </Select>\n          <Select value={typeFilter} onValueChange={setTypeFilter}>\n            <SelectTrigger className=\"w-40\">\n              <SelectValue placeholder=\"Type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Types</SelectItem>\n              <SelectItem value=\"lesson_completed\">Lesson Completed</SelectItem>\n              <SelectItem value=\"lesson_reminder\">Lesson Reminder</SelectItem>\n              <SelectItem value=\"quiz_high_score\">Quiz High Score</SelectItem>\n              <SelectItem value=\"track_milestone\">Track Milestone</SelectItem>\n              <SelectItem value=\"system_alert\">System Alert</SelectItem>\n              <SelectItem value=\"task_due\">Task Due</SelectItem>\n              <SelectItem value=\"achievement\">Achievement</SelectItem>\n              <SelectItem value=\"course_completion\">Course Completion</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Templates List */}\n      {filteredTemplates.length === 0 ? (\n        <Card>\n          <CardContent className=\"flex flex-col items-center justify-center py-12\">\n            <Mail className=\"h-12 w-12 text-muted-foreground mb-4\" />\n            <h3 className=\"text-lg font-semibold mb-2\">No templates found</h3>\n            <p className=\"text-muted-foreground text-center\">\n              {searchTerm ? 'No templates match your search.' : 'Create your first email template to get started.'}\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <Card>\n          <CardContent className=\"p-0\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"border-b\">\n                    <th className=\"text-left p-4 font-medium\">Template</th>\n                    <th className=\"text-left p-4 font-medium\">Type</th>\n                    <th className=\"text-left p-4 font-medium\">Status</th>\n                    <th className=\"text-left p-4 font-medium\">Created</th>\n                    <th className=\"text-left p-4 font-medium\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredTemplates.map((template) => (\n                    <tr key={template.id} className=\"border-b hover:bg-gray-50\">\n                      <td className=\"p-4\">\n                        <div className=\"text-left\">\n                          <div className=\"font-medium\">{template.name}</div>\n                          <div className=\"text-sm text-muted-foreground\">\n                            {template.subject_template}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"p-4\">\n                        <Badge className={getTypeColor(template.type)}>\n                          {template.type.replace('_', ' ')}\n                        </Badge>\n                      </td>\n                      <td className=\"p-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Badge variant=\"secondary\">Published</Badge>\n                          {template.is_system && (\n                            <Badge variant=\"outline\">System</Badge>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"p-4 text-sm text-muted-foreground\">\n                        {formatDate(template.created_at)}\n                      </td>\n                      <td className=\"p-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleEdit(template)}\n                            title=\"Edit Template\"\n                          >\n                            <Edit className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleView(template)}\n                            title=\"View Template\"\n                          >\n                            <Eye className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleDuplicate(template)}\n                            title=\"Duplicate Template\"\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleSendTest(template)}\n                            title=\"Send Test Email\"\n                            disabled={sendingEmail === template.id}\n                          >\n                            {sendingEmail === template.id ? (\n                              <Loader2 \n                                className=\"h-4 w-4\" \n                                style={{ \n                                  animation: 'spin 1s linear infinite',\n                                  transformOrigin: 'center'\n                                }}\n                              />\n                            ) : (\n                              <Send className=\"h-4 w-4\" />\n                            )}\n                          </Button>\n                          {!template.is_system && (\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleDelete(template)}\n                              className=\"text-red-600 hover:text-red-700\"\n                              title=\"Delete Template\"\n                              style={{ backgroundColor: 'orange', color: 'white' }}\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Edit/View Dialog */}\n      {(isEditing || isViewing) && selectedTemplate && (\n        <Dialog open={isEditing || isViewing} onOpenChange={() => {\n          setIsEditing(false);\n          setIsViewing(false);\n          setIsCreating(false);\n          setSelectedTemplate(null);\n        }}>\n          <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle>\n                {isCreating ? 'Create Template' : isEditing ? 'Edit Template' : 'Email Preview'}: {selectedTemplate.name || 'New Template'}\n              </DialogTitle>\n            </DialogHeader>\n            {isViewing ? (\n              /* Email Preview Mode */\n              <div className=\"space-y-4\">\n                <div className=\"border rounded-lg p-4 bg-white\">\n                  <div className=\"border-b pb-2 mb-4\">\n                    <h3 className=\"font-semibold text-gray-700\">Email Preview</h3>\n                    <p className=\"text-sm text-gray-500\">How this email will appear to recipients</p>\n                  </div>\n                  \n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label className=\"text-sm font-medium text-gray-600\">Subject:</Label>\n                      <div className=\"mt-1 p-2 bg-gray-50 rounded border\">\n                        {(() => {\n                          const sampleData: Record<string, any> = generateSampleVariables(selectedTemplate.type);\n                          // Process template with Handlebars conditionals and variable substitution\n                          let result = selectedTemplate.subject_template;\n                          \n                          // Handle Handlebars conditionals {{#if variable}}...{{/if}}\n                          result = result.replace(/\\{\\{#if\\s+(\\w+)\\}\\}([\\s\\S]*?)\\{\\{\\/if\\}\\}/g, (_match, variableName, content) => {\n                            const value = sampleData[variableName];\n                            if (value && value !== '' && value !== 'false' && value !== '0') {\n                              return content;\n                            }\n                            return '';\n                          });\n                          \n                          // Substitute variables\n                          for (const [key, value] of Object.entries(sampleData)) {\n                            result = result.replace(new RegExp(`\\\\{\\\\{${key}\\\\}\\\\}`, 'g'), String(value || ''));\n                          }\n                          \n                          return result;\n                        })()}\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <Label className=\"text-sm font-medium text-gray-600\">Email Body:</Label>\n                      <div className=\"mt-1 border rounded bg-white max-h-96 overflow-y-auto\">\n                        <div \n                          className=\"p-4 prose max-w-none\"\n                          dangerouslySetInnerHTML={{\n                            __html: (() => {\n                              const sampleData: Record<string, any> = generateSampleVariables(selectedTemplate.type);\n                              // Process template with Handlebars conditionals and variable substitution\n                              let result = selectedTemplate.html_body_template;\n                              \n                              // Handle Handlebars conditionals {{#if variable}}...{{/if}}\n                              result = result.replace(/\\{\\{#if\\s+(\\w+)\\}\\}([\\s\\S]*?)\\{\\{\\/if\\}\\}/g, (_match, variableName, content) => {\n                                const value = sampleData[variableName];\n                                if (value && value !== '' && value !== 'false' && value !== '0') {\n                                  return content;\n                                }\n                                return '';\n                              });\n                              \n                              // Substitute variables\n                              for (const [key, value] of Object.entries(sampleData)) {\n                                result = result.replace(new RegExp(`\\\\{\\\\{${key}\\\\}\\\\}`, 'g'), String(value || ''));\n                              }\n                              \n                              return result;\n                            })()\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <Button variant=\"outline\" onClick={() => {\n                    setIsViewing(false);\n                    setSelectedTemplate(null);\n                  }}>\n                    Close Preview\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              /* Edit/Create Mode */\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <Label htmlFor=\"name\">Template Name</Label>\n                    <Input\n                      id=\"name\"\n                      value={selectedTemplate.name}\n                      disabled={!isEditing || selectedTemplate.is_system}\n                      onChange={(e) => setSelectedTemplate({\n                        ...selectedTemplate,\n                        name: e.target.value\n                      })}\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"type\">Template Type</Label>\n                    <Input\n                      id=\"type\"\n                      value={selectedTemplate.type}\n                      disabled={!isEditing || selectedTemplate.is_system}\n                      onChange={(e) => setSelectedTemplate({\n                        ...selectedTemplate,\n                        type: e.target.value\n                      })}\n                    />\n                  </div>\n                </div>\n                <div>\n                  <Label htmlFor=\"subject\">Subject</Label>\n                  <Input\n                    id=\"subject\"\n                    value={selectedTemplate.subject_template}\n                    disabled={!isEditing}\n                    onChange={(e) => setSelectedTemplate({\n                      ...selectedTemplate,\n                      subject_template: e.target.value\n                    })}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"content\">HTML Content</Label>\n                  <Textarea\n                    id=\"content\"\n                    value={selectedTemplate.html_body_template}\n                    disabled={!isEditing}\n                    rows={10}\n                    className=\"font-mono text-sm\"\n                    onChange={(e) => setSelectedTemplate({\n                      ...selectedTemplate,\n                      html_body_template: e.target.value\n                    })}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"text-content\">Text Content (Optional)</Label>\n                  <Textarea\n                    id=\"text-content\"\n                    value={selectedTemplate.text_body_template || ''}\n                    disabled={!isEditing}\n                    rows={5}\n                    className=\"font-mono text-sm\"\n                    onChange={(e) => setSelectedTemplate({\n                      ...selectedTemplate,\n                      text_body_template: e.target.value\n                    })}\n                  />\n                </div>\n                {isEditing && (\n                  <div className=\"flex justify-end space-x-2\">\n                    <Button variant=\"outline\" onClick={() => {\n                      setIsEditing(false);\n                      setIsCreating(false);\n                      setSelectedTemplate(null);\n                    }}>\n                      Cancel\n                    </Button>\n                    <Button onClick={handleSave}>\n                      {isCreating ? 'Create' : 'Save'}\n                    </Button>\n                  </div>\n                )}\n              </div>\n            )}\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {/* Email Send Result Dialog */}\n      <Dialog open={emailDialog.open} onOpenChange={(open) => setEmailDialog({ ...emailDialog, open })}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              {emailDialog.type === 'success' ? (\n                <CheckCircle className=\"h-5 w-5 text-green-600\" />\n              ) : (\n                <XCircle className=\"h-5 w-5 text-red-600\" />\n              )}\n              {emailDialog.type === 'success' ? 'Email Sent Successfully' : 'Email Send Failed'}\n            </DialogTitle>\n          </DialogHeader>\n          <div className=\"py-4\">\n            <p className=\"text-sm text-gray-600\">{emailDialog.message}</p>\n          </div>\n          <div className=\"flex justify-end\">\n            <Button onClick={() => setEmailDialog({ ...emailDialog, open: false })}>\n              OK\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { \n  Search, \n  Mail, \n  Clock, \n  CheckCircle, \n  XCircle, \n  AlertCircle,\n  User,\n  Calendar,\n  Filter,\n  RefreshCw\n} from 'lucide-react';\n\ninterface EmailNotification {\n  id: string;\n  user_id: string;\n  type: string;\n  title: string;\n  message: string;\n  email: string;\n  status: 'pending' | 'sent' | 'failed';\n  created_at: string;\n  sent_at?: string;\n  error_message?: string;\n}\n\ninterface RecentEmailNotificationsProps {\n  supabaseClient: any;\n  Button: any;\n  Card: any;\n  CardContent: any;\n  CardDescription: any;\n  CardHeader: any;\n  CardTitle: any;\n  Input: any;\n  Label: any;\n  Badge: any;\n  Select: any;\n  SelectContent: any;\n  SelectItem: any;\n  SelectTrigger: any;\n  SelectValue: any;\n  Alert: any;\n  AlertDescription: any;\n}\n\nexport default function RecentEmailNotifications({\n  supabaseClient,\n  Button,\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  Input,\n  Label,\n  Badge,\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n  Alert,\n  AlertDescription\n}: RecentEmailNotificationsProps) {\n  const [notifications, setNotifications] = useState<EmailNotification[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [typeFilter, setTypeFilter] = useState<string>('all');\n\n  // Load recent notifications\n  useEffect(() => {\n    loadNotifications();\n  }, []);\n\n  const loadNotifications = async () => {\n    try {\n      setLoading(true);\n      // Get current user for email display\n      const { data: { user } } = await supabaseClient.auth.getUser();\n\n      const { data, error } = await supabaseClient\n        .from('notification_history')\n        .select('*')\n        .order('created_at', { ascending: false })\n        .limit(100); // Show last 100 notifications\n\n      if (error) throw error;\n      \n      // Map notification_history fields to the expected format\n      const mappedData = (data || []).map(notification => ({\n        id: notification.id,\n        title: notification.trigger_event.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n        message: `Notification of type ${notification.trigger_event}`,\n        type: notification.trigger_event,\n        status: notification.status,\n        email: user?.email || 'Unknown User',\n        sent_at: notification.sent_at || notification.created_at,\n        error_message: notification.error_message\n      }));\n      \n      setNotifications(mappedData);\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusStyle = (status: string) => {\n    switch (status) {\n      case 'sent': return { backgroundColor: '#dcfce7', color: '#166534', borderColor: '#bbf7d0' };\n      case 'failed': return { backgroundColor: '#fecaca', color: '#991b1b', borderColor: '#fca5a5' };\n      case 'pending': return { backgroundColor: '#fef3c7', color: '#92400e', borderColor: '#fde68a' };\n      default: return { backgroundColor: '#f3f4f6', color: '#374151', borderColor: '#d1d5db' };\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'sent': return <CheckCircle className=\"h-4 w-4\" />;\n      case 'failed': return <XCircle className=\"h-4 w-4\" />;\n      case 'pending': return <Clock className=\"h-4 w-4\" />;\n      default: return <AlertCircle className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getTypeStyle = (type: string) => {\n    switch (type) {\n      case 'lesson_completed': return { backgroundColor: '#dcfce7', color: '#166534', borderColor: '#bbf7d0' };\n      case 'lesson_reminder': return { backgroundColor: '#fed7aa', color: '#9a3412', borderColor: '#fdba74' };\n      case 'quiz_high_score': return { backgroundColor: '#e9d5ff', color: '#6b21a8', borderColor: '#d8b4fe' };\n      case 'track_milestone': return { backgroundColor: '#dbeafe', color: '#1e40af', borderColor: '#bfdbfe' };\n      case 'system_alert': return { backgroundColor: '#fecaca', color: '#991b1b', borderColor: '#fca5a5' };\n      case 'task_due': return { backgroundColor: '#fef3c7', color: '#92400e', borderColor: '#fde68a' };\n      case 'achievement': return { backgroundColor: '#fce7f3', color: '#be185d', borderColor: '#f9a8d4' };\n      case 'course_completion': return { backgroundColor: '#e0e7ff', color: '#3730a3', borderColor: '#c7d2fe' };\n      default: return { backgroundColor: '#f3f4f6', color: '#374151', borderColor: '#d1d5db' };\n    }\n  };\n\n  const formatDate = (dateString: string | null | undefined) => {\n    if (!dateString) return 'N/A';\n    \n    try {\n      const date = new Date(dateString);\n      if (isNaN(date.getTime())) return 'Invalid Date';\n      \n      return date.toLocaleDateString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      return 'Invalid Date';\n    }\n  };\n\n  const filteredNotifications = notifications.filter(notification => {\n    const matchesSearch = \n      notification.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      notification.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      notification.type.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesStatus = statusFilter === 'all' || notification.status === statusFilter;\n    const matchesType = typeFilter === 'all' || notification.type === typeFilter;\n    \n    return matchesSearch && matchesStatus && matchesType;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"text-muted-foreground\">Loading recent notifications...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert className=\"mb-4\">\n        <AlertDescription>Error loading notifications: {error}</AlertDescription>\n      </Alert>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-learning-primary\">Recent Email Notifications</h2>\n          <p className=\"text-muted-foreground\">View sent email notifications and their status</p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <Button variant=\"outline\" size=\"sm\" onClick={loadNotifications}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n        </div>\n      </div>\n\n      {/* Summary Stats */}\n      {notifications.length > 0 && (\n        <div className=\"flex flex-row gap-4\">\n          <Card className=\"flex-1\">\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center space-x-2\">\n                <CheckCircle className=\"h-5 w-5 text-green-600\" />\n                <div>\n                  <div className=\"text-2xl font-bold text-green-600\">\n                    {notifications.filter(n => n.status === 'sent').length}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground\">Sent</div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card className=\"flex-1\">\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center space-x-2\">\n                <XCircle className=\"h-5 w-5 text-red-600\" />\n                <div>\n                  <div className=\"text-2xl font-bold text-red-600\">\n                    {notifications.filter(n => n.status === 'failed').length}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground\">Failed</div>\n                  {notifications.filter(n => n.status === 'failed').length > 0 && (\n                    <div className=\"text-xs text-red-700 mt-1 font-medium\">\n                      Check error messages above\n                    </div>\n                  )}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card className=\"flex-1\">\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center space-x-2\">\n                <Clock className=\"h-5 w-5 text-yellow-600\" />\n                <div>\n                  <div className=\"text-2xl font-bold text-yellow-600\">\n                    {notifications.filter(n => n.status === 'pending').length}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground\">Pending</div>\n                  {notifications.filter(n => n.status === 'pending').length > 0 && (\n                    <div className=\"text-xs text-yellow-700 mt-1 font-medium\">\n                      Being processed\n                    </div>\n                  )}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card className=\"flex-1\">\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center space-x-2\">\n                <Mail className=\"h-5 w-5 text-blue-600\" />\n                <div>\n                  <div className=\"text-2xl font-bold text-blue-600\">\n                    {notifications.length}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground\">Total</div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n      \n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"flex-1\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search notifications...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger className=\"w-32\">\n              <SelectValue placeholder=\"Status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Status</SelectItem>\n              <SelectItem value=\"sent\">Sent</SelectItem>\n              <SelectItem value=\"failed\">Failed</SelectItem>\n              <SelectItem value=\"pending\">Pending</SelectItem>\n            </SelectContent>\n          </Select>\n          <Select value={typeFilter} onValueChange={setTypeFilter}>\n            <SelectTrigger className=\"w-40\">\n              <SelectValue placeholder=\"Type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Types</SelectItem>\n              <SelectItem value=\"lesson_completed\">Lesson Completed</SelectItem>\n              <SelectItem value=\"lesson_reminder\">Lesson Reminder</SelectItem>\n              <SelectItem value=\"quiz_high_score\">Quiz High Score</SelectItem>\n              <SelectItem value=\"track_milestone\">Track Milestone</SelectItem>\n              <SelectItem value=\"system_alert\">System Alert</SelectItem>\n              <SelectItem value=\"task_due\">Task Due</SelectItem>\n              <SelectItem value=\"achievement\">Achievement</SelectItem>\n              <SelectItem value=\"course_completion\">Course Completion</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Notifications List */}\n      {filteredNotifications.length === 0 ? (\n        <Card>\n          <CardContent className=\"flex flex-col items-center justify-center py-12\">\n            <Mail className=\"h-12 w-12 text-muted-foreground mb-4\" />\n            <h3 className=\"text-lg font-semibold mb-2\">No notifications found</h3>\n            <p className=\"text-muted-foreground text-center\">\n              {searchTerm || statusFilter !== 'all' || typeFilter !== 'all' \n                ? 'No notifications match your filters.' \n                : 'No email notifications have been sent yet.'}\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <Card>\n          <CardContent className=\"p-0\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"border-b bg-gray-50\">\n                    <th className=\"text-left p-4 font-medium\">Notification</th>\n                    <th className=\"text-left p-4 font-medium\">Type</th>\n                    <th className=\"text-left p-4 font-medium\">Status</th>\n                    <th className=\"text-left p-4 font-medium\">Recipient</th>\n                    <th className=\"text-left p-4 font-medium\">Sent</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredNotifications.map((notification) => (\n                    <tr key={notification.id} className=\"border-b hover:bg-gray-50\">\n                      <td className=\"p-4\">\n                        <div className=\"text-left\">\n                          <div className=\"font-medium\">{notification.title}</div>\n                          <div className=\"text-sm text-muted-foreground line-clamp-2\">\n                            {notification.message}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"p-4 text-left\">\n                        <span \n                          className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border\"\n                          style={getTypeStyle(notification.type)}\n                        >\n                          {notification.type.replace('_', ' ')}\n                        </span>\n                      </td>\n                      <td className=\"p-4 text-left\">\n                        <div className=\"flex items-center space-x-2\">\n                          {getStatusIcon(notification.status)}\n                          <span \n                            className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border\"\n                            style={getStatusStyle(notification.status)}\n                          >\n                            {notification.status}\n                          </span>\n                        </div>\n                        {notification.status === 'failed' && notification.error_message && (\n                          <div className=\"text-xs text-red-600 mt-1\">\n                            {notification.error_message}\n                          </div>\n                        )}\n                      </td>\n                      <td className=\"p-4 text-left\">\n                        <div className=\"flex items-center space-x-2\">\n                          <User className=\"h-4 w-4 text-muted-foreground\" />\n                          <span className=\"text-sm\">{notification.email}</span>\n                        </div>\n                      </td>\n                      <td className=\"p-4 text-left\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                          <div className=\"text-sm\">\n                            {notification.sent_at ? (\n                              <div>{formatDate(notification.sent_at)}</div>\n                            ) : (\n                              <div>{formatDate(notification.created_at)}</div>\n                            )}\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","import { createClient } from '@supabase/supabase-js';\n\n// This should be configured by the consuming application\n// Don't auto-create supabase client - let consuming app provide it\nexport const supabase = null;\n\n// Helper function to configure Supabase for the notification module\nexport const configureSupabase = (url: string, anonKey: string) => {\n  return createClient(url, anonKey);\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { supabase } from '../utils/supabase';\nimport type { \n  Notification, \n  NotificationFilters, \n  UseNotificationsReturn,\n  CreateNotificationRequest,\n  UpdateNotificationRequest \n} from '../types';\n\nexport const useNotifications = (filters: NotificationFilters = {}): UseNotificationsReturn => {\n  const queryClient = useQueryClient();\n  const [unreadCount, setUnreadCount] = useState(0);\n\n  // Fetch notifications\n  const {\n    data: notifications = [],\n    isLoading,\n    error,\n    refetch\n  } = useQuery({\n    queryKey: ['notifications', filters],\n    queryFn: async (): Promise<Notification[]> => {\n      let query = supabase\n        .from('notifications')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      // Apply filters\n      if (filters.userId) {\n        query = query.eq('user_id', filters.userId);\n      }\n      if (filters.type) {\n        query = query.eq('type', filters.type);\n      }\n      if (filters.status) {\n        query = query.eq('status', filters.status);\n      }\n      if (filters.priority) {\n        query = query.eq('priority', filters.priority);\n      }\n      if (filters.fromDate) {\n        query = query.gte('created_at', filters.fromDate.toISOString());\n      }\n      if (filters.toDate) {\n        query = query.lte('created_at', filters.toDate.toISOString());\n      }\n      if (filters.unreadOnly) {\n        query = query.is('read_at', null);\n      }\n      if (filters.limit) {\n        query = query.limit(filters.limit);\n      }\n      if (filters.offset) {\n        query = query.range(filters.offset, filters.offset + (filters.limit || 50) - 1);\n      }\n\n      const { data, error } = await query;\n\n      if (error) {\n        throw new Error(`Failed to fetch notifications: ${error.message}`);\n      }\n\n      return data?.map(notification => ({\n        ...notification,\n        createdAt: new Date(notification.created_at),\n        scheduledFor: notification.scheduled_for ? new Date(notification.scheduled_for) : undefined,\n        readAt: notification.read_at ? new Date(notification.read_at) : undefined,\n        expiresAt: notification.expires_at ? new Date(notification.expires_at) : undefined,\n      })) || [];\n    },\n    refetchInterval: 30000, // Refetch every 30 seconds\n  });\n\n  // Fetch unread count\n  const { data: unreadData } = useQuery({\n    queryKey: ['notifications', 'unread-count', filters.userId],\n    queryFn: async (): Promise<number> => {\n      if (!filters.userId) return 0;\n\n      const { count, error } = await supabase\n        .from('notifications')\n        .select('*', { count: 'exact', head: true })\n        .eq('user_id', filters.userId)\n        .is('read_at', null);\n\n      if (error) {\n        throw new Error(`Failed to fetch unread count: ${error.message}`);\n      }\n\n      return count || 0;\n    },\n    refetchInterval: 10000, // Refetch every 10 seconds\n  });\n\n  // Update unread count when data changes\n  useEffect(() => {\n    if (unreadData !== undefined) {\n      setUnreadCount(unreadData);\n    }\n  }, [unreadData]);\n\n  // Mark notification as read\n  const markAsReadMutation = useMutation({\n    mutationFn: async (id: string): Promise<void> => {\n      const { error } = await supabase\n        .from('notifications')\n        .update({ \n          read_at: new Date().toISOString(),\n          status: 'read'\n        })\n        .eq('id', id);\n\n      if (error) {\n        throw new Error(`Failed to mark notification as read: ${error.message}`);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['notifications'] });\n      queryClient.invalidateQueries({ queryKey: ['notifications', 'unread-count'] });\n    },\n  });\n\n  // Mark all notifications as read\n  const markAllAsReadMutation = useMutation({\n    mutationFn: async (): Promise<void> => {\n      if (!filters.userId) return;\n\n      const { error } = await supabase\n        .from('notifications')\n        .update({ \n          read_at: new Date().toISOString(),\n          status: 'read'\n        })\n        .eq('user_id', filters.userId)\n        .is('read_at', null);\n\n      if (error) {\n        throw new Error(`Failed to mark all notifications as read: ${error.message}`);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['notifications'] });\n      queryClient.invalidateQueries({ queryKey: ['notifications', 'unread-count'] });\n    },\n  });\n\n  // Delete notification\n  const deleteNotificationMutation = useMutation({\n    mutationFn: async (id: string): Promise<void> => {\n      const { error } = await supabase\n        .from('notifications')\n        .delete()\n        .eq('id', id);\n\n      if (error) {\n        throw new Error(`Failed to delete notification: ${error.message}`);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['notifications'] });\n      queryClient.invalidateQueries({ queryKey: ['notifications', 'unread-count'] });\n    },\n  });\n\n  const markAsRead = useCallback(async (id: string) => {\n    await markAsReadMutation.mutateAsync(id);\n  }, [markAsReadMutation]);\n\n  const markAllAsRead = useCallback(async () => {\n    await markAllAsReadMutation.mutateAsync();\n  }, [markAllAsReadMutation]);\n\n  const deleteNotification = useCallback(async (id: string) => {\n    await deleteNotificationMutation.mutateAsync(id);\n  }, [deleteNotificationMutation]);\n\n  const refresh = useCallback(() => {\n    refetch();\n  }, [refetch]);\n\n  return {\n    notifications,\n    unreadCount,\n    isLoading,\n    error: error as Error | null,\n    markAsRead,\n    markAllAsRead,\n    deleteNotification,\n    refresh,\n  };\n};\n\n// Hook for creating notifications\nexport const useCreateNotification = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (notification: CreateNotificationRequest): Promise<Notification> => {\n      const { data, error } = await supabase\n        .from('notifications')\n        .insert({\n          user_id: notification.userId,\n          type: notification.type,\n          title: notification.title,\n          message: notification.message,\n          priority: notification.priority || 'normal',\n          scheduled_for: notification.scheduledFor?.toISOString(),\n          action_url: notification.actionUrl,\n          metadata: notification.metadata,\n          status: 'pending',\n        })\n        .select()\n        .single();\n\n      if (error) {\n        throw new Error(`Failed to create notification: ${error.message}`);\n      }\n\n      return {\n        ...data,\n        createdAt: new Date(data.created_at),\n        scheduledFor: data.scheduled_for ? new Date(data.scheduled_for) : undefined,\n        readAt: data.read_at ? new Date(data.read_at) : undefined,\n        expiresAt: data.expires_at ? new Date(data.expires_at) : undefined,\n      };\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['notifications'] });\n      queryClient.invalidateQueries({ queryKey: ['notifications', 'unread-count'] });\n    },\n  });\n};\n\n// Hook for updating notifications\nexport const useUpdateNotification = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (update: UpdateNotificationRequest): Promise<void> => {\n      const updateData: any = {};\n      \n      if (update.status) {\n        updateData.status = update.status;\n      }\n      if (update.readAt) {\n        updateData.read_at = update.readAt.toISOString();\n      }\n\n      const { error } = await supabase\n        .from('notifications')\n        .update(updateData)\n        .eq('id', update.id);\n\n      if (error) {\n        throw new Error(`Failed to update notification: ${error.message}`);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['notifications'] });\n      queryClient.invalidateQueries({ queryKey: ['notifications', 'unread-count'] });\n    },\n  });\n};\n","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const diff = _dateLeft.getTime() - _dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n","import { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name constructNow\n * @category Generic Helpers\n * @summary Constructs a new current date using the passed value constructor.\n * @pure false\n *\n * @description\n * The function constructs a new current date using the constructor from\n * the reference date. It helps to build generic functions that accept date\n * extensions and use the current date.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n *\n * @returns Current date initialized using the given date constructor\n *\n * @example\n * import { constructNow, isSameDay } from 'date-fns'\n *\n * function isToday<DateType extends Date>(\n *   date: DateType | number | string,\n * ): boolean {\n *   // If we were to use `new Date()` directly, the function would  behave\n *   // differently in different timezones and return false for the same date.\n *   return isSameDay(date, constructNow(date));\n * }\n */\nexport function constructNow(date) {\n  return constructFrom(date, Date.now());\n}\n\n// Fallback for modularized imports:\nexport default constructNow;\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const yearDiff = _dateLeft.getFullYear() - _dateRight.getFullYear();\n  const monthDiff = _dateLeft.getMonth() - _dateRight.getMonth();\n\n  return yearDiff * 12 + monthDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(dateLeft, dateRight) {\n  return +toDate(dateLeft) - +toDate(dateRight);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { endOfDay } from \"./endOfDay.mjs\";\nimport { endOfMonth } from \"./endOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date) {\n  const _date = toDate(date);\n  return +endOfDay(_date) === +endOfMonth(_date);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n","import { compareAsc } from \"./compareAsc.mjs\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.mjs\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates using trunc as a default rounding method.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(\n    differenceInCalendarMonths(_dateLeft, _dateRight),\n  );\n  let result;\n\n  // Check for the difference of less than month\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (_dateLeft.getMonth() === 1 && _dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      _dateLeft.setDate(30);\n    }\n\n    _dateLeft.setMonth(_dateLeft.getMonth() - sign * difference);\n\n    // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n    let isLastMonthNotFull = compareAsc(_dateLeft, _dateRight) === -sign;\n\n    // Check for cases of one full calendar month\n    if (\n      isLastDayOfMonth(toDate(dateLeft)) &&\n      difference === 1 &&\n      compareAsc(dateLeft, _dateRight) === 1\n    ) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - Number(isLastMonthNotFull));\n  }\n\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(dateLeft, dateRight, options) {\n  const diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(date.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    const timestamp = date.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","import { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ‚ö†Ô∏è Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","import { compareAsc } from \"./compareAsc.mjs\";\nimport { minutesInDay, minutesInMonth } from \"./constants.mjs\";\nimport { differenceInMonths } from \"./differenceInMonths.mjs\";\nimport { differenceInSeconds } from \"./differenceInSeconds.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * The {@link formatDistance} function options.\n */\n\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date\n * @param baseDate - The date to compare with\n * @param options - An object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `baseDate` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport function formatDistance(date, baseDate, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n  const minutesInAlmostTwoDays = 2520;\n\n  const comparison = compareAsc(date, baseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  const localizeOptions = Object.assign({}, options, {\n    addSuffix: options?.addSuffix,\n    comparison: comparison,\n  });\n\n  let dateLeft;\n  let dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(baseDate);\n    dateRight = toDate(date);\n  } else {\n    dateLeft = toDate(date);\n    dateRight = toDate(baseDate);\n  }\n\n  const seconds = differenceInSeconds(dateRight, dateLeft);\n  const offsetInSeconds =\n    (getTimezoneOffsetInMilliseconds(dateRight) -\n      getTimezoneOffsetInMilliseconds(dateLeft)) /\n    1000;\n  const minutes = Math.round((seconds - offsetInSeconds) / 60);\n  let months;\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options?.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance(\"lessThanXSeconds\", 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance(\"lessThanXSeconds\", 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance(\"lessThanXSeconds\", 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance(\"halfAMinute\", 0, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n      }\n    }\n\n    // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n\n    // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance(\"aboutXHours\", 1, localizeOptions);\n\n    // 1.5 hrs up to 24 hrs\n  } else if (minutes < minutesInDay) {\n    const hours = Math.round(minutes / 60);\n    return locale.formatDistance(\"aboutXHours\", hours, localizeOptions);\n\n    // 1 day up to 1.75 days\n  } else if (minutes < minutesInAlmostTwoDays) {\n    return locale.formatDistance(\"xDays\", 1, localizeOptions);\n\n    // 1.75 days up to 30 days\n  } else if (minutes < minutesInMonth) {\n    const days = Math.round(minutes / minutesInDay);\n    return locale.formatDistance(\"xDays\", days, localizeOptions);\n\n    // 1 month up to 2 months\n  } else if (minutes < minutesInMonth * 2) {\n    months = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"aboutXMonths\", months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft);\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    const nearestMonth = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"xMonths\", nearestMonth, localizeOptions);\n\n    // 1 year up to max Date\n  } else {\n    const monthsSinceStartOfYear = months % 12;\n    const years = Math.trunc(months / 12);\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance(\"aboutXYears\", years, localizeOptions);\n\n      // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance(\"overXYears\", years, localizeOptions);\n\n      // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance(\"almostXYears\", years + 1, localizeOptions);\n    }\n  }\n}\n\n// Fallback for modularized imports:\nexport default formatDistance;\n","import { constructNow } from \"./constructNow.mjs\";\nimport { formatDistance } from \"./formatDistance.mjs\";\n\n/**\n * The {@link formatDistanceToNow} function options.\n */\n\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - The object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * const result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * const result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * const result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * const eoLocale = require('date-fns/locale/eo')\n * const result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistanceToNow(date, options) {\n  return formatDistance(date, constructNow(date), options);\n}\n\n// Fallback for modularized imports:\nexport default formatDistanceToNow;\n","import React from 'react';\nimport { Check, Trash2, Clock, AlertCircle, BookOpen, Target, Award, Calendar, Bell } from 'lucide-react';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport type { Notification } from '../types';\n\ninterface NotificationItemProps {\n  notification: Notification;\n  onMarkAsRead: (id: string) => Promise<void>;\n  onDelete: (id: string) => Promise<void>;\n}\n\nexport const NotificationItem: React.FC<NotificationItemProps> = ({\n  notification,\n  onMarkAsRead,\n  onDelete,\n}) => {\n  const isRead = !!notification.readAt;\n  const isUrgent = notification.priority === 'urgent';\n  const isHigh = notification.priority === 'high';\n\n  const getIcon = () => {\n    switch (notification.type) {\n      case 'lesson_reminder':\n        return <BookOpen className=\"h-4 w-4 text-blue-500\" />;\n      case 'task_due':\n        return <Target className=\"h-4 w-4 text-orange-500\" />;\n      case 'system_alert':\n        return <AlertCircle className=\"h-4 w-4 text-red-500\" />;\n      case 'achievement':\n        return <Award className=\"h-4 w-4 text-yellow-500\" />;\n      case 'course_completion':\n        return <Award className=\"h-4 w-4 text-green-500\" />;\n      case 'assignment_due':\n        return <Target className=\"h-4 w-4 text-purple-500\" />;\n      case 'meeting_reminder':\n        return <Calendar className=\"h-4 w-4 text-indigo-500\" />;\n      default:\n        return <Bell className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getPriorityColor = () => {\n    switch (notification.priority) {\n      case 'urgent':\n        return 'border-l-red-500 bg-red-50';\n      case 'high':\n        return 'border-l-orange-500 bg-orange-50';\n      case 'normal':\n        return 'border-l-blue-500 bg-blue-50';\n      case 'low':\n        return 'border-l-gray-500 bg-gray-50';\n      default:\n        return 'border-l-gray-300 bg-white';\n    }\n  };\n\n  const handleMarkAsRead = async () => {\n    if (!isRead) {\n      await onMarkAsRead(notification.id);\n    }\n  };\n\n  const handleDelete = async () => {\n    await onDelete(notification.id);\n  };\n\n  const handleClick = () => {\n    if (!isRead) {\n      handleMarkAsRead();\n    }\n    \n    // Navigate to action URL if provided\n    if (notification.actionUrl) {\n      window.open(notification.actionUrl, '_blank');\n    }\n  };\n\n  return (\n    <div\n      className={`p-4 border-l-4 ${getPriorityColor()} hover:bg-gray-50 transition-colors cursor-pointer ${\n        isRead ? 'opacity-75' : ''\n      }`}\n      onClick={handleClick}\n    >\n      <div className=\"flex items-start gap-3\">\n        {/* Icon */}\n        <div className=\"flex-shrink-0 mt-0.5\">\n          {getIcon()}\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-start justify-between gap-2\">\n            <div className=\"flex-1\">\n              <h4 className={`text-sm font-medium ${isRead ? 'text-gray-600' : 'text-gray-900'}`}>\n                {notification.title}\n              </h4>\n              <p className={`text-sm mt-1 ${isRead ? 'text-gray-500' : 'text-gray-700'}`}>\n                {notification.message}\n              </p>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex items-center gap-1 flex-shrink-0\">\n              {!isRead && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleMarkAsRead();\n                  }}\n                  className=\"p-1 rounded hover:bg-gray-200 transition-colors\"\n                  aria-label=\"Mark as read\"\n                >\n                  <Check className=\"h-3 w-3 text-gray-500\" />\n                </button>\n              )}\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleDelete();\n                }}\n                className=\"p-1 rounded hover:bg-gray-200 transition-colors\"\n                aria-label=\"Delete notification\"\n              >\n                <Trash2 className=\"h-3 w-3 text-gray-500\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Metadata */}\n          <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"h-3 w-3\" />\n              <span>\n                {formatDistanceToNow(notification.createdAt, { addSuffix: true })}\n              </span>\n            </div>\n\n            {notification.scheduledFor && (\n              <div className=\"flex items-center gap-1\">\n                <Calendar className=\"h-3 w-3\" />\n                <span>\n                  Scheduled for {format(notification.scheduledFor, 'MMM d, yyyy HH:mm')}\n                </span>\n              </div>\n            )}\n\n            {isUrgent && (\n              <span className=\"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-xs font-medium\">\n                Urgent\n              </span>\n            )}\n\n            {isHigh && (\n              <span className=\"px-2 py-0.5 bg-orange-100 text-orange-700 rounded-full text-xs font-medium\">\n                High Priority\n              </span>\n            )}\n          </div>\n\n          {/* Metadata display */}\n          {notification.metadata && Object.keys(notification.metadata).length > 0 && (\n            <div className=\"mt-2 text-xs text-gray-500\">\n              {Object.entries(notification.metadata).map(([key, value]) => (\n                <span key={key} className=\"mr-3\">\n                  <span className=\"font-medium\">{key}:</span> {String(value)}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { supabase } from '../utils/supabase';\nimport type { \n  NotificationPreferences, \n  UseNotificationSettingsReturn,\n  NotificationType \n} from '../types';\n\nexport const useNotificationSettings = (userId: string): UseNotificationSettingsReturn => {\n  const queryClient = useQueryClient();\n\n  // Fetch notification preferences\n  const {\n    data: preferences,\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: ['notification-preferences', userId],\n    queryFn: async (): Promise<NotificationPreferences> => {\n      const { data, error } = await supabase\n        .from('notification_preferences')\n        .select('*')\n        .eq('user_id', userId)\n        .single();\n\n      if (error) {\n        // If no preferences exist, create default ones\n        if (error.code === 'PGRST116') {\n          return createDefaultPreferences(userId);\n        }\n        throw new Error(`Failed to fetch notification preferences: ${error.message}`);\n      }\n\n      return {\n        ...data,\n        types: data.types || getDefaultTypePreferences(),\n      };\n    },\n    enabled: !!userId,\n  });\n\n  // Update preferences mutation\n  const updatePreferencesMutation = useMutation({\n    mutationFn: async (newPreferences: Partial<NotificationPreferences>): Promise<void> => {\n      const { error } = await supabase\n        .from('notification_preferences')\n        .upsert({\n          user_id: userId,\n          ...newPreferences,\n          updated_at: new Date().toISOString(),\n        });\n\n      if (error) {\n        throw new Error(`Failed to update notification preferences: ${error.message}`);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['notification-preferences', userId] });\n    },\n  });\n\n  // Update specific type preference mutation\n  const updateTypePreferenceMutation = useMutation({\n    mutationFn: async ({ \n      type, \n      method, \n      enabled \n    }: { \n      type: NotificationType; \n      method: 'email' | 'push' | 'inApp'; \n      enabled: boolean; \n    }): Promise<void> => {\n      if (!preferences) return;\n\n      const updatedTypes = {\n        ...preferences.types,\n        [type]: {\n          ...preferences.types[type],\n          [method]: enabled,\n        },\n      };\n\n      const { error } = await supabase\n        .from('notification_preferences')\n        .upsert({\n          user_id: userId,\n          types: updatedTypes,\n          updated_at: new Date().toISOString(),\n        });\n\n      if (error) {\n        throw new Error(`Failed to update type preference: ${error.message}`);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['notification-preferences', userId] });\n    },\n  });\n\n  const updatePreferences = async (newPreferences: Partial<NotificationPreferences>) => {\n    await updatePreferencesMutation.mutateAsync(newPreferences);\n  };\n\n  const updateTypePreference = async (\n    type: NotificationType, \n    method: 'email' | 'push' | 'inApp', \n    enabled: boolean\n  ) => {\n    await updateTypePreferenceMutation.mutateAsync({ type, method, enabled });\n  };\n\n  return {\n    preferences,\n    isLoading,\n    error: error as Error | null,\n    updatePreferences,\n    updateTypePreference,\n  };\n};\n\n// Helper function to create default preferences\nconst createDefaultPreferences = async (userId: string): Promise<NotificationPreferences> => {\n  const defaultPreferences: NotificationPreferences = {\n    userId,\n    emailEnabled: true,\n    pushEnabled: true,\n    inAppEnabled: true,\n    types: getDefaultTypePreferences(),\n    quietHours: {\n      enabled: false,\n      startTime: '22:00',\n      endTime: '08:00',\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n    },\n    frequency: 'immediate',\n  };\n\n  const { error } = await supabase\n    .from('notification_preferences')\n    .insert({\n      user_id: userId,\n      email_enabled: defaultPreferences.emailEnabled,\n      push_enabled: defaultPreferences.pushEnabled,\n      in_app_enabled: defaultPreferences.inAppEnabled,\n      types: defaultPreferences.types,\n      quiet_hours: defaultPreferences.quietHours,\n      frequency: defaultPreferences.frequency,\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    });\n\n  if (error) {\n    throw new Error(`Failed to create default preferences: ${error.message}`);\n  }\n\n  return defaultPreferences;\n};\n\n// Helper function to get default type preferences\nconst getDefaultTypePreferences = () => ({\n  lesson_reminder: { email: true, push: true, inApp: true },\n  task_due: { email: true, push: true, inApp: true },\n  system_alert: { email: false, push: true, inApp: true },\n  achievement: { email: false, push: true, inApp: true },\n  course_completion: { email: true, push: true, inApp: true },\n  assignment_due: { email: true, push: true, inApp: true },\n  meeting_reminder: { email: true, push: true, inApp: true },\n  custom: { email: true, push: true, inApp: true },\n});\n\n// Hook for checking if notifications are allowed based on preferences\nexport const useNotificationPermission = (userId: string, type: NotificationType, method: 'email' | 'push' | 'inApp') => {\n  const { preferences } = useNotificationSettings(userId);\n\n  if (!preferences) return false;\n\n  // Check if the specific method is enabled globally\n  const methodEnabled = preferences[`${method}Enabled` as keyof NotificationPreferences] as boolean;\n  if (!methodEnabled) return false;\n\n  // Check if the specific type is enabled for this method\n  const typeEnabled = preferences.types[type]?.[method];\n  if (typeEnabled === undefined) return true; // Default to true if not specified\n\n  return typeEnabled;\n};\n\n// Hook for checking quiet hours\nexport const useQuietHours = (userId: string) => {\n  const { preferences } = useNotificationSettings(userId);\n\n  if (!preferences?.quietHours?.enabled) {\n    return { isQuietHours: false };\n  }\n\n  const now = new Date();\n  const userTimezone = preferences.quietHours.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone;\n  \n  // Convert current time to user's timezone\n  const userTime = new Date(now.toLocaleString('en-US', { timeZone: userTimezone }));\n  const currentHour = userTime.getHours();\n  const currentMinute = userTime.getMinutes();\n  const currentTime = currentHour * 60 + currentMinute;\n\n  // Parse quiet hours\n  const [startHour, startMinute] = preferences.quietHours.startTime.split(':').map(Number);\n  const [endHour, endMinute] = preferences.quietHours.endTime.split(':').map(Number);\n  const startTime = startHour * 60 + startMinute;\n  const endTime = endHour * 60 + endMinute;\n\n  // Check if current time is within quiet hours\n  let isQuietHours = false;\n  if (startTime <= endTime) {\n    // Same day (e.g., 22:00 to 08:00)\n    isQuietHours = currentTime >= startTime && currentTime <= endTime;\n  } else {\n    // Overnight (e.g., 22:00 to 08:00)\n    isQuietHours = currentTime >= startTime || currentTime <= endTime;\n  }\n\n  return { isQuietHours };\n};\n","import React, { useState } from 'react';\nimport { Settings, Bell, Mail, Smartphone, Clock, Save, X } from 'lucide-react';\nimport { useNotificationSettings } from '../hooks/useNotificationSettings';\nimport type { NotificationType } from '../types';\n\ninterface NotificationSettingsProps {\n  userId: string;\n  className?: string;\n}\n\nexport const NotificationSettings: React.FC<NotificationSettingsProps> = ({\n  userId,\n  className = '',\n}) => {\n  const {\n    preferences,\n    isLoading,\n    error,\n    updatePreferences,\n    updateTypePreference,\n  } = useNotificationSettings(userId);\n\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  if (isLoading) {\n    return (\n      <div className={`p-4 ${className}`}>\n        <div className=\"text-center text-gray-500\">Loading settings...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`p-4 ${className}`}>\n        <div className=\"text-center text-red-500\">Error loading settings: {error.message}</div>\n      </div>\n    );\n  }\n\n  if (!preferences) {\n    return (\n      <div className={`p-4 ${className}`}>\n        <div className=\"text-center text-gray-500\">No settings found</div>\n      </div>\n    );\n  }\n\n  const handleGlobalToggle = async (method: 'email' | 'push' | 'inApp') => {\n    const newValue = !preferences[`${method}Enabled` as keyof typeof preferences];\n    await updatePreferences({ [`${method}Enabled`]: newValue });\n  };\n\n  const handleTypeToggle = async (type: NotificationType, method: 'email' | 'push' | 'inApp') => {\n    await updateTypePreference(type, method, !preferences.types[type][method]);\n  };\n\n  const handleQuietHoursToggle = async () => {\n    await updatePreferences({\n      quietHours: {\n        ...preferences.quietHours,\n        enabled: !preferences.quietHours.enabled,\n      },\n    });\n  };\n\n  const handleQuietHoursChange = async (field: 'startTime' | 'endTime', value: string) => {\n    await updatePreferences({\n      quietHours: {\n        ...preferences.quietHours,\n        [field]: value,\n      },\n    });\n  };\n\n  const handleFrequencyChange = async (frequency: 'immediate' | 'hourly' | 'daily' | 'weekly') => {\n    await updatePreferences({ frequency });\n  };\n\n  const getTypeLabel = (type: NotificationType) => {\n    switch (type) {\n      case 'lesson_reminder':\n        return 'Lesson Reminders';\n      case 'task_due':\n        return 'Task Due Dates';\n      case 'system_alert':\n        return 'System Alerts';\n      case 'achievement':\n        return 'Achievements';\n      case 'course_completion':\n        return 'Course Completions';\n      case 'assignment_due':\n        return 'Assignment Due Dates';\n      case 'meeting_reminder':\n        return 'Meeting Reminders';\n      case 'custom':\n        return 'Custom Notifications';\n      default:\n        return type;\n    }\n  };\n\n  const getTypeDescription = (type: NotificationType) => {\n    switch (type) {\n      case 'lesson_reminder':\n        return 'Reminders for upcoming lessons and learning sessions';\n      case 'task_due':\n        return 'Notifications for tasks and assignments due soon';\n      case 'system_alert':\n        return 'Important system updates and maintenance alerts';\n      case 'achievement':\n        return 'Celebrations for completed milestones and achievements';\n      case 'course_completion':\n        return 'Notifications when you complete courses or modules';\n      case 'assignment_due':\n        return 'Reminders for upcoming assignment deadlines';\n      case 'meeting_reminder':\n        return 'Reminders for scheduled meetings and appointments';\n      case 'custom':\n        return 'Custom notifications from administrators';\n      default:\n        return '';\n    }\n  };\n\n  return (\n    <div className={`p-4 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h4 className=\"text-lg font-semibold flex items-center gap-2\">\n          <Settings className=\"h-5 w-5\" />\n          Notification Settings\n        </h4>\n        <button\n          onClick={() => setIsExpanded(!isExpanded)}\n          className=\"p-1 rounded hover:bg-gray-100\"\n        >\n          {isExpanded ? <X className=\"h-4 w-4\" /> : <Settings className=\"h-4 w-4\" />}\n        </button>\n      </div>\n\n      {/* Global Settings */}\n      <div className=\"space-y-4\">\n        <div>\n          <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Global Settings</h5>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Mail className=\"h-4 w-4 text-gray-500\" />\n                <span className=\"text-sm\">Email Notifications</span>\n              </div>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.emailEnabled}\n                  onChange={() => handleGlobalToggle('email')}\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n              </label>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Smartphone className=\"h-4 w-4 text-gray-500\" />\n                <span className=\"text-sm\">Push Notifications</span>\n              </div>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.pushEnabled}\n                  onChange={() => handleGlobalToggle('push')}\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n              </label>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Bell className=\"h-4 w-4 text-gray-500\" />\n                <span className=\"text-sm\">In-App Notifications</span>\n              </div>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.inAppEnabled}\n                  onChange={() => handleGlobalToggle('inApp')}\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* Quiet Hours */}\n        <div>\n          <div className=\"flex items-center justify-between mb-3\">\n            <h5 className=\"text-sm font-medium text-gray-700 flex items-center gap-2\">\n              <Clock className=\"h-4 w-4\" />\n              Quiet Hours\n            </h5>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={preferences.quietHours.enabled}\n                onChange={handleQuietHoursToggle}\n                className=\"sr-only peer\"\n              />\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n            </label>\n          </div>\n          \n          {preferences.quietHours.enabled && (\n            <div className=\"flex items-center gap-2 text-sm\">\n              <span>From</span>\n              <input\n                type=\"time\"\n                value={preferences.quietHours.startTime}\n                onChange={(e) => handleQuietHoursChange('startTime', e.target.value)}\n                className=\"border border-gray-300 rounded px-2 py-1\"\n              />\n              <span>to</span>\n              <input\n                type=\"time\"\n                value={preferences.quietHours.endTime}\n                onChange={(e) => handleQuietHoursChange('endTime', e.target.value)}\n                className=\"border border-gray-300 rounded px-2 py-1\"\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Frequency */}\n        <div>\n          <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Notification Frequency</h5>\n          <div className=\"flex flex-wrap gap-2\">\n            {(['immediate', 'hourly', 'daily', 'weekly'] as const).map((frequency) => (\n              <button\n                key={frequency}\n                onClick={() => handleFrequencyChange(frequency)}\n                className={`px-3 py-1 text-xs rounded-full ${\n                  preferences.frequency === frequency\n                    ? 'bg-blue-100 text-blue-700'\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                {frequency.charAt(0).toUpperCase() + frequency.slice(1)}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Type-specific settings */}\n        {isExpanded && (\n          <div>\n            <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Notification Types</h5>\n            <div className=\"space-y-4\">\n              {(Object.keys(preferences.types) as NotificationType[]).map((type) => (\n                <div key={type} className=\"border border-gray-200 rounded-lg p-3\">\n                  <div className=\"mb-2\">\n                    <h6 className=\"text-sm font-medium\">{getTypeLabel(type)}</h6>\n                    <p className=\"text-xs text-gray-500\">{getTypeDescription(type)}</p>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    {(['email', 'push', 'inApp'] as const).map((method) => (\n                      <div key={method} className=\"flex items-center justify-between\">\n                        <span className=\"text-xs text-gray-600 capitalize\">{method}</span>\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\n                          <input\n                            type=\"checkbox\"\n                            checked={preferences.types[type][method]}\n                            onChange={() => handleTypeToggle(type, method)}\n                            disabled={!preferences[`${method}Enabled` as keyof typeof preferences]}\n                            className=\"sr-only peer\"\n                          />\n                          <div className={`w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600 ${!preferences[`${method}Enabled` as keyof typeof preferences] ? 'opacity-50' : ''}`}></div>\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Bell, X, Check, Trash2, Settings, Filter } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { useNotifications } from '../hooks/useNotifications';\nimport { NotificationItem } from './NotificationItem';\nimport { NotificationSettings } from './NotificationSettings';\nimport type { NotificationFilters, NotificationType } from '../types';\n\ninterface NotificationCenterProps {\n  userId: string;\n  className?: string;\n  maxNotifications?: number;\n}\n\nexport const NotificationCenter: React.FC<NotificationCenterProps> = ({\n  userId,\n  className = '',\n  maxNotifications = 50,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [filters, setFilters] = useState<NotificationFilters>({\n    userId,\n    unreadOnly: false,\n    limit: maxNotifications,\n  });\n\n  const {\n    notifications,\n    unreadCount,\n    isLoading,\n    error,\n    markAsRead,\n    markAllAsRead,\n    deleteNotification,\n    refresh,\n  } = useNotifications(filters);\n\n  const handleMarkAsRead = async (id: string) => {\n    await markAsRead(id);\n  };\n\n  const handleMarkAllAsRead = async () => {\n    await markAllAsRead();\n  };\n\n  const handleDelete = async (id: string) => {\n    await deleteNotification(id);\n  };\n\n  const handleFilterChange = (newFilters: Partial<NotificationFilters>) => {\n    setFilters(prev => ({ ...prev, ...newFilters }));\n  };\n\n  const handleTypeFilter = (type: NotificationType | 'all') => {\n    if (type === 'all') {\n      setFilters(prev => ({ ...prev, type: undefined }));\n    } else {\n      setFilters(prev => ({ ...prev, type }));\n    }\n  };\n\n  const getTypeCount = (type: NotificationType) => {\n    return notifications.filter(n => n.type === type).length;\n  };\n\n  const unreadNotifications = notifications.filter(n => !n.readAt);\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Notification Bell Button */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative p-2 rounded-lg hover:bg-gray-100 transition-colors\"\n        aria-label=\"Notifications\"\n      >\n        <Bell className=\"h-5 w-5\" />\n        {unreadCount > 0 && (\n          <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n            {unreadCount > 99 ? '99+' : unreadCount}\n          </span>\n        )}\n      </button>\n\n      {/* Notification Panel */}\n      {isOpen && (\n        <div className=\"absolute right-0 top-full mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-50\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold\">Notifications</h3>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => setShowSettings(!showSettings)}\n                className=\"p-1 rounded hover:bg-gray-100\"\n                aria-label=\"Settings\"\n              >\n                <Settings className=\"h-4 w-4\" />\n              </button>\n              <button\n                onClick={() => setIsOpen(false)}\n                className=\"p-1 rounded hover:bg-gray-100\"\n                aria-label=\"Close\"\n              >\n                <X className=\"h-4 w-4\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Settings Panel */}\n          {showSettings && (\n            <div className=\"border-b border-gray-200\">\n              <NotificationSettings userId={userId} />\n            </div>\n          )}\n\n          {/* Filters */}\n          <div className=\"p-4 border-b border-gray-200\">\n            <div className=\"flex items-center gap-2 mb-3\">\n              <Filter className=\"h-4 w-4 text-gray-500\" />\n              <span className=\"text-sm font-medium text-gray-700\">Filters</span>\n            </div>\n            \n            {/* Type Filters */}\n            <div className=\"flex flex-wrap gap-2 mb-3\">\n              <button\n                onClick={() => handleTypeFilter('all')}\n                className={`px-2 py-1 text-xs rounded-full ${\n                  !filters.type ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-600'\n                }`}\n              >\n                All ({notifications.length})\n              </button>\n              <button\n                onClick={() => handleTypeFilter('lesson_reminder')}\n                className={`px-2 py-1 text-xs rounded-full ${\n                  filters.type === 'lesson_reminder' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-600'\n                }`}\n              >\n                Lessons ({getTypeCount('lesson_reminder')})\n              </button>\n              <button\n                onClick={() => handleTypeFilter('task_due')}\n                className={`px-2 py-1 text-xs rounded-full ${\n                  filters.type === 'task_due' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-600'\n                }`}\n              >\n                Tasks ({getTypeCount('task_due')})\n              </button>\n              <button\n                onClick={() => handleTypeFilter('system_alert')}\n                className={`px-2 py-1 text-xs rounded-full ${\n                  filters.type === 'system_alert' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-600'\n                }`}\n              >\n                Alerts ({getTypeCount('system_alert')})\n              </button>\n            </div>\n\n            {/* Status Filter */}\n            <div className=\"flex items-center gap-2\">\n              <label className=\"flex items-center gap-2 text-sm\">\n                <input\n                  type=\"checkbox\"\n                  checked={filters.unreadOnly || false}\n                  onChange={(e) => handleFilterChange({ unreadOnly: e.target.checked })}\n                  className=\"rounded\"\n                />\n                Unread only\n              </label>\n            </div>\n          </div>\n\n          {/* Actions */}\n          {unreadNotifications.length > 0 && (\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n              <span className=\"text-sm text-gray-600\">\n                {unreadNotifications.length} unread notification{unreadNotifications.length !== 1 ? 's' : ''}\n              </span>\n              <button\n                onClick={handleMarkAllAsRead}\n                className=\"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1\"\n              >\n                <Check className=\"h-3 w-3\" />\n                Mark all as read\n              </button>\n            </div>\n          )}\n\n          {/* Notifications List */}\n          <div className=\"max-h-96 overflow-y-auto\">\n            {isLoading ? (\n              <div className=\"p-4 text-center text-gray-500\">\n                Loading notifications...\n              </div>\n            ) : error ? (\n              <div className=\"p-4 text-center text-red-500\">\n                Error loading notifications: {error.message}\n              </div>\n            ) : notifications.length === 0 ? (\n              <div className=\"p-4 text-center text-gray-500\">\n                No notifications found\n              </div>\n            ) : (\n              <div className=\"divide-y divide-gray-200\">\n                {notifications.map((notification) => (\n                  <NotificationItem\n                    key={notification.id}\n                    notification={notification}\n                    onMarkAsRead={handleMarkAsRead}\n                    onDelete={handleDelete}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Footer */}\n          <div className=\"p-4 border-t border-gray-200\">\n            <button\n              onClick={refresh}\n              className=\"text-sm text-gray-600 hover:text-gray-800\"\n            >\n              Refresh\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":["match","supabase","error","emailService","Edit","Loader2","CheckCircle","XCircle","AlertCircle","defaultOptions","formatDistance","format","localize","formatLong","defaultLocale"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81]}